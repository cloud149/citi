(window.webpackJsonp=window.webpackJsonp||[]).push([[60],{"2cU3":function(e,t,n){"use strict";n.d(t,"a",function(){return g});var i=n("fXoL"),o=n("ofXK"),s=n("rB/E");const a=["ddlBanner"],c=["cdsBanner"];function r(e,t){1&e&&i.Yb(0)}function l(e,t){if(1&e){const e=i.dc();i.cc(0,"div",4),i.cc(1,"div",5),i.cc(2,"div",6),i.cc(3,"div",7),i.cc(4,"div",8),i.Xb(5,"h3",9),i.bc(),i.cc(6,"div",10),i.cc(7,"citi-cta",11,12),i.kc("ctaClick",function(){return i.Vc(e),i.oc(2).actionHandler()}),i.bc(),i.bc(),i.bc(),i.bc(),i.bc(),i.bc()}if(2&e){const e=i.oc(2);i.Db(5),i.xc("innerHTML",null==e.compareBannerData?null:e.compareBannerData.header,i.Wc),i.Db(2),i.xc("value",null==e.compareBannerData||null==e.compareBannerData.action?null:e.compareBannerData.action.name)("bold",!1)("noMargin",!1)("disabled",!1)}}function d(e,t){if(1&e&&i.hd(0,l,9,5,"div",3),2&e){const e=i.oc();i.xc("ngIf",e.compareBannerData)}}function p(e,t){if(1&e){const e=i.dc();i.cc(0,"div",14),i.cc(1,"div",5),i.cc(2,"div",15),i.cc(3,"div",16),i.cc(4,"div",17),i.Xb(5,"h3",18),i.bc(),i.cc(6,"div",19),i.cc(7,"citi-cta",20),i.kc("ctaClick",function(){return i.Vc(e),i.oc(2).actionHandler()}),i.bc(),i.bc(),i.bc(),i.bc(),i.bc(),i.bc()}if(2&e){const e=i.oc(2);i.Db(5),i.xc("innerHTML",null==e.compareBannerData?null:e.compareBannerData.header,i.Wc),i.Db(2),i.xc("value",null==e.compareBannerData||null==e.compareBannerData.action?null:e.compareBannerData.action.name)("bold",!1)("noMargin",!1)("disabled",!1)}}function h(e,t){if(1&e&&i.hd(0,p,8,5,"div",13),2&e){const e=i.oc();i.xc("ngIf",e.compareBannerData)}}let g=(()=>{class e{constructor(e){this.renderer=e,this.compareBannerData={},this.cdsPage=!1,this.compareCtaAction=new i.n}actionHandler(){this.compareCtaAction.emit(this.compareBannerData.action.path)}ngAfterViewInit(){this.currentTemplate=this.cdsPage?this.cdsBanner:this.ddlBanner}}return e.\u0275fac=function(t){return new(t||e)(i.Wb(i.G))},e.\u0275cmp=i.Qb({type:e,selectors:[["x-compare-banner"]],viewQuery:function(e,t){if(1&e&&(i.ud(a,1),i.ud(c,1)),2&e){let e;i.Qc(e=i.lc())&&(t.ddlBanner=e.first),i.Qc(e=i.lc())&&(t.cdsBanner=e.first)}},inputs:{compareBannerData:"compareBannerData",cdsPage:"cdsPage",backgroundCtaColor:"backgroundCtaColor"},outputs:{compareCtaAction:"compareCtaAction"},decls:5,vars:1,consts:[[4,"ngTemplateOutlet"],["ddlBanner",""],["cdsBanner",""],["class","row compare-banner-container",4,"ngIf"],[1,"row","compare-banner-container"],[1,"panel","panel-default","x-compareBanner"],[1,"panel-body","text-center"],[1,"col-md-12"],[1,"x-headerWrapper","col-xs-12","col-md-8"],[3,"innerHTML"],[1,"x-ctaWrapper","col-md-4","col-xs-12","col-sm-6"],["type","primary",3,"value","bold","noMargin","disabled","ctaClick"],["compareCta",""],["class","compare-banner-container",4,"ngIf"],[1,"compare-banner-container"],[1,"panel-body","panel-body-cds","text-center"],[1,"flex-container-compare"],[1,"x-headerWrapper","x-headerWrapper-cds","x-off-md-1"],[1,"h3-cds",3,"innerHTML"],[1,"x-cta-wrapper","x-cta-wrapper-cds"],["idStr","compare-banner-cta-cds","type","primary",3,"value","bold","noMargin","disabled","ctaClick"]],template:function(e,t){1&e&&(i.hd(0,r,1,0,"ng-container",0),i.hd(1,d,1,1,"ng-template",null,1,i.id),i.hd(3,h,1,1,"ng-template",null,2,i.id)),2&e&&i.xc("ngTemplateOutlet",t.currentTemplate)},directives:[o.v,o.q,s.w],styles:[".x-compareBanner[_ngcontent-%COMP%]   .x-headerWrapper[_ngcontent-%COMP%], .x-ctaWrapper[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle;float:none}.x-compareBanner[_ngcontent-%COMP%]   .x-headerWrapper[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:0;font:26px/32px Interstate_Bold,sans-serif}.x-compareBanner[_ngcontent-%COMP%]   .panel-body[_ngcontent-%COMP%]{padding:28px 15px;background-repeat:no-repeat;background-position:100% 0;background-size:contain;overflow:hidden;background-image:url(compare-background.f2f08a8b3ec81e8cb59d.png)}.x-compareBanner.panel[_ngcontent-%COMP%]{border-radius:24px;box-shadow:0 0 50px 3px rgba(0,0,0,.1);border:none;margin:0 auto;overflow:hidden}@media (max-width:991px){.x-compareBanner[_ngcontent-%COMP%]   .panel-body[_ngcontent-%COMP%]{padding:20px;background-image:url(compare-background-mobile.ba424ef63e16d609e951.png)}.x-compareBanner[_ngcontent-%COMP%]   .x-headerWrapper[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{padding:0;background:inherit;font-size:21px;line-height:26px}  .x-ctaWrapper button.btn{margin-bottom:0}}@media screen and (min-width:425px) and (max-width:1024px){.x-ctaWrapper[_ngcontent-%COMP%]     citi-cta button{width:240px;height:50px}}@media screen and (min-width:1366px){.flex-container-compare[_ngcontent-%COMP%]{margin-top:0!important}.x-headerWrapper-cds[_ngcontent-%COMP%]{width:60%;margin-left:0!important}}@media screen and (max-width:320px){  .x-ctaWrapper .btn{padding:14px 0!important}}  citi-cta #compare-banner-cta-cds{background:#032a4a;border-color:#032a4a}.flex-container-compare[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex-align:center;align-items:center}.x-headerWrapper-cds[_ngcontent-%COMP%]{width:90%}@media screen and (min-width:1366px){.flex-container-compare[_ngcontent-%COMP%]{margin-top:0!important}.x-headerWrapper-cds[_ngcontent-%COMP%]{width:60%;margin-left:0!important}.x-cta-wrapper-cds[_ngcontent-%COMP%]{margin-left:3%}}@media screen and (min-width:1024px){  .x-cta-wrapper button{width:291px!important}.flex-container-compare[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;margin-top:10px}}@media screen and (min-width:1024px) and (max-width:1365px){.x-headerWrapper-cds[_ngcontent-%COMP%]{margin-left:15%}.x-cta-wrapper-cds[_ngcontent-%COMP%]{margin-left:25px}}@media screen and (min-width:768px) and (max-width:992px){.x-off-md-1[_ngcontent-%COMP%]{margin-left:6%}}@media screen and (min-width:820px) and (height:1180px){.x-headerWrapper-cds[_ngcontent-%COMP%]{margin-left:10%}}@media screen and (min-width:768px) and (max-width:1024px){.flex-container-compare[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row}.h3-cds[_ngcontent-%COMP%]{font-size:26px!important;line-height:32px!important;text-align:left}.x-headerWrapper-cds[_ngcontent-%COMP%]{width:45%}.panel-body-cds[_ngcontent-%COMP%]{height:131px;display:-ms-flexbox;display:flex;background-image:url(compare-background.f2f08a8b3ec81e8cb59d.png)!important}}@media (min-width:425px) and (max-width:769px){  .x-cta-wrapper button{width:291px!important;right:5px}.x-cta-wrapper[_ngcontent-%COMP%]{margin-top:-10px}}@media screen and (min-width:425px) and (max-width:1024px){.x-cta-wrapper[_ngcontent-%COMP%]     citi-cta button{width:240px;height:50px;margin-right:0;margin-top:15px}}@media (max-width:991px){  .x-cta-wrapper button.btn{margin-bottom:0}}"]}),e})()},"5Dwu":function(e,t,n){"use strict";n.d(t,"a",function(){return ce});var i=n("fXoL"),o=n("8qkB"),s=n("hV3Y"),a=n("ofXK");const c=["*"];let r=(()=>{class e{constructor(e){this.elementRef=e}}return e.\u0275fac=function(t){return new(t||e)(i.Wb(i.l))},e.\u0275cmp=i.Qb({type:e,selectors:[["x-card"]],ngContentSelectors:c,decls:2,vars:0,consts:[[1,"card"]],template:function(e,t){1&e&&(i.wc(),i.cc(0,"article",0),i.vc(1),i.bc())},styles:["article[_ngcontent-%COMP%]{position:relative;background:#fff;box-shadow:0 2px 8px 2px hsla(0,0%,84.7%,.6);border-radius:20px;height:100%;padding:30px 10px;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}[_nghost-%COMP%]     article a{text-decoration:none}@media screen and (min-width:425px) and (max-width:769px){article[_ngcontent-%COMP%]{padding:40px}}"]}),e})();var l=n("0MNC");let d=(()=>{class e{constructor(e,t,n){this.observer=e,this.el=t,this.renderer=n}ngOnInit(){this.observer.isMatched("(min-width: 1200px)")&&1==this.wrapHeader&&this.renderer.addClass(this.el.nativeElement,"heading-wrap")}}return e.\u0275fac=function(t){return new(t||e)(i.Wb(l.a),i.Wb(i.l),i.Wb(i.G))},e.\u0275dir=i.Rb({type:e,selectors:[["","appHeaderWrap",""]],inputs:{wrapHeader:"wrapHeader"}}),e})();var p=n("rB/E");const h=function(e){return{backgroundColor:e}};let g=(()=>{class e{constructor(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Qb({type:e,selectors:[["x-card-header"]],inputs:{cardHeader:"cardHeader",styleConfig:"styleConfig",wrapHeader:"wrapHeader"},decls:8,vars:13,consts:[[1,"card-header",3,"ngClass"],[1,""],[1,"circle","center-block",3,"ngStyle"],[1,"heading-container"],["appHeaderWrap","",1,"heading",3,"wrapHeader"],["bold","true",3,"level","htmlContent"],[1,"subheading"],[3,"level","htmlContent"]],template:function(e,t){1&e&&(i.cc(0,"div",0),i.cc(1,"div",1),i.Xb(2,"div",2),i.bc(),i.cc(3,"div",3),i.cc(4,"div",4),i.Xb(5,"citi-text-header",5),i.bc(),i.cc(6,"div",6),i.Xb(7,"citi-text-header",7),i.bc(),i.bc(),i.bc()),2&e&&(i.xc("ngClass","slim-card"==t.styleConfig.cardType||"slim-card-spanish"==t.styleConfig.cardType?"slim-header":""),i.Db(2),i.xc("ngStyle",i.Hc(11,h,t.cardHeader.backgroundColor)),i.Db(2),i.xc("wrapHeader",t.wrapHeader),i.Db(1),i.Ib("heading"),i.xc("level",3)("htmlContent",t.cardHeader.heading),i.Db(2),i.Ib("subheading"),i.xc("level",4)("htmlContent",t.cardHeader.subHeading))},directives:[a.o,a.r,d,p.ge],styles:["[_nghost-%COMP%]     citi-text-header .registered, [_nghost-%COMP%]     citi-text-header .service-mark{font-family:Interstate_Bold,sans-serif;font-weight:700;font-size:10px;color:#151515;letter-spacing:0;line-height:27px}p[_ngcontent-%COMP%]{display:inline-block!important}.everyday-header[_ngcontent-%COMP%]{height:5em}.premium-header[_ngcontent-%COMP%]{height:4em}.heading-offset[_ngcontent-%COMP%]{margin-left:2%}.card-header[_ngcontent-%COMP%]{padding:0 10px;display:-ms-flexbox;display:flex;-ms-flex-pack:start;justify-content:flex-start;height:100%}.heading-container[_ngcontent-%COMP%]{margin-left:4%}@media screen and (min-width:425px) and (max-width:769px){.heading-container[_ngcontent-%COMP%]{margin-left:2%}}@media screen and (min-width:1200px){.heading-wrap[_ngcontent-%COMP%]{width:83%}.heading-wrap-spanish[_ngcontent-%COMP%]{width:94%}.heading-stretch[_ngcontent-%COMP%]{width:100%}}@media screen and (max-width:425px){.heading[_ngcontent-%COMP%]{width:103%}}[_nghost-%COMP%]     citi-text-header .heading{font-size:1rem!important;margin-bottom:5px!important;line-height:24px}[_nghost-%COMP%]     citi-text-header .subheading{font-family:Interstate_Light,sans-serif;font-size:.7rem;color:#666;letter-spacing:1.5px;line-height:15px;text-transform:uppercase}.circle[_ngcontent-%COMP%]{width:15px;height:15px;border-radius:50%;background:#b2ebfb;position:relative;top:5px}"]}),e})();function u(e,t){1&e&&i.Yb(0)}function m(e,t){if(1&e&&i.Xb(0,"p",7),2&e){const e=i.oc(2);i.xc("innerHTML",e.cardBody.benefitsSubheading,i.Wc)}}function f(e,t){1&e&&i.Xb(0,"li",7),2&e&&i.xc("innerHTML",t.$implicit,i.Wc)}function x(e,t){if(1&e&&(i.cc(0,"div",14),i.Xb(1,"p",7),i.bc()),2&e){const e=i.oc(2);i.Db(1),i.xc("innerHTML",e.cardBody.subHeading,i.Wc)}}function b(e,t){if(1&e&&(i.cc(0,"div",3),i.cc(1,"div",4),i.Xb(2,"div",5),i.bc(),i.cc(3,"div",6),i.Xb(4,"p",7),i.bc(),i.cc(5,"div",8),i.Xb(6,"citi-text-header",9),i.hd(7,m,1,1,"p",10),i.cc(8,"ul",11),i.hd(9,f,1,1,"li",12),i.bc(),i.bc(),i.hd(10,x,2,1,"div",13),i.cc(11,"div",4),i.Xb(12,"div",5),i.bc(),i.bc()),2&e){const e=i.oc();i.xc("ngClass",e.heightClass),i.Db(4),i.xc("innerHTML",e.cardBody.description,i.Wc),i.Db(2),i.Ib("subheading"),i.xc("level",4)("htmlContent",e.cardBody.benefitsHeading),i.Db(1),i.xc("ngIf",e.cardBody.benefitsSubheading),i.Db(2),i.xc("ngForOf",e.cardBody.benefits),i.Db(1),i.xc("ngIf",e.cardBody.subHeading)}}function C(e,t){1&e&&(i.ac(0),i.cc(1,"div",19),i.vc(2),i.bc(),i.Zb())}const O=function(e){return{"hide-rates-expand":e}};function M(e,t){if(1&e&&(i.cc(0,"div",15),i.cc(1,"div",4),i.Xb(2,"div",5),i.bc(),i.cc(3,"div",16),i.Xb(4,"p",7),i.bc(),i.hd(5,C,3,0,"ng-container",17),i.cc(6,"div",18),i.Xb(7,"div",5),i.bc(),i.bc()),2&e){const e=i.oc();i.xc("ngClass",e.savingsHeightClass),i.Db(3),i.xc("ngClass",i.Hc(4,O,e.hideRates)),i.Db(1),i.xc("innerHTML",e.cardBody.description,i.Wc),i.Db(1),i.xc("ngIf",!e.hideRates)}}const R=[[["x-card-rate-body"]]],w=["x-card-rate-body"];let S=(()=>{class e{constructor(e){this.globalFn=e,this.savingsPromo={showRate:!0,showRatesLink:!0,showTerms:!0}}ngOnChanges(e){this.setCheckingHeight(),this.setSavingsHeight()}setCheckingHeight(){const e={everyday:{oobta:this.styleConfig.spanish?"slim-body-spanish":"slim-body",inbta:this.styleConfig.spanish?"wide-body-spanish-everyday":"wide-body-everyday-checking"},premium:{oobta:this.styleConfig.spanish?"wide-body-spanish":"wide-body",inbta:this.styleConfig.spanish?"wide-body-spanish":"wide-body"}};this.heightClass=this.globalFn.isInBtaRegion()?e[this.styleConfig.packageType].inbta:e[this.styleConfig.packageType].oobta}setSavingsHeight(){const e={inbta:"savings-body-height",oobta:this.styleConfig.spanish?"savings-body-height-small-spanish":"savings-body-height-small"};this.savingsHeightClass=this.globalFn.isInBtaRegion()?e.inbta:e.oobta}}return e.\u0275fac=function(t){return new(t||e)(i.Wb(o.a))},e.\u0275cmp=i.Qb({type:e,selectors:[["x-card-body"]],inputs:{cardBody:"cardBody",hideRates:"hideRates",styleConfig:"styleConfig",ratesBody:"ratesBody"},features:[i.Bb],ngContentSelectors:w,decls:5,vars:3,consts:[[4,"ngIf","ngIfThen","ngIfElse"],["checkingTemplate",""],["savingsTemplate",""],[1,"card-body",3,"ngClass"],[1,"divider-container"],[1,"divider"],[1,"body-description"],[3,"innerHTML"],[1,"benefits-container"],[3,"level","htmlContent"],[3,"innerHTML",4,"ngIf"],[1,"first-ul"],[3,"innerHTML",4,"ngFor","ngForOf"],["class","subheading-container",4,"ngIf"],[1,"subheading-container"],[1,"savings-card-body",3,"ngClass"],[1,"savings-body-description",3,"ngClass"],[4,"ngIf"],[1,"divider-container-bottom"],[1,"rates-container"]],template:function(e,t){if(1&e&&(i.wc(R),i.hd(0,u,1,0,"ng-container",0),i.hd(1,b,13,9,"ng-template",null,1,i.id),i.hd(3,M,8,6,"ng-template",null,2,i.id)),2&e){const e=i.Rc(2),n=i.Rc(4);i.xc("ngIf",!t.styleConfig.enableSavingsTemplate)("ngIfThen",e)("ngIfElse",n)}},directives:[a.q,a.o,p.ge,a.p],styles:[".rates-container[_ngcontent-%COMP%]     p, [_nghost-%COMP%]     ul li p, p[_ngcontent-%COMP%]{font-family:Interstate_Light,sans-serif;font-size:.88rem;line-height:20px}.benefits-container[_ngcontent-%COMP%], .rates-container[_ngcontent-%COMP%]{-ms-flex-positive:1;flex-grow:1}.card-body[_ngcontent-%COMP%], .savings-card-body[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;padding:0 10px}.slim-body[_ngcontent-%COMP%]{height:255px}.wide-body[_ngcontent-%COMP%]{height:340px}.wide-body-everyday[_ngcontent-%COMP%]{height:240px}.slim-body-spanish[_ngcontent-%COMP%]{height:360px}.wide-body-spanish[_ngcontent-%COMP%]{height:430px}.wide-body-spanish-everyday[_ngcontent-%COMP%]{height:300px}.rates-container[_ngcontent-%COMP%]     p .text-underline{text-decoration:underline!important}.rates-container[_ngcontent-%COMP%]     p a:hover{cursor:pointer}.rates-container[_ngcontent-%COMP%]     p sup a{text-decoration:none!important}.divider[_ngcontent-%COMP%]{height:1px;background:#d2d2d2;margin-top:3px;margin-bottom:15px}p[_ngcontent-%COMP%]{display:inline-block!important}.rate[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:0!important}.subheading-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:Interstate_Light_Italic;color:#666}.first-ul[_ngcontent-%COMP%]{list-style:none;padding:0}[_nghost-%COMP%]     ul li{background:url(mobile_checking_cards_check_icon.75c3d60b9f732ced2a8f.png);background-repeat:no-repeat;background-position:left 6px;padding-left:20px;display:block}[_nghost-%COMP%]     ul li p{background:#fff;margin-bottom:0}[_nghost-%COMP%]     citi-text-header .subheading{font-family:Interstate_Light,sans-serif;font-size:.7rem;color:#666;letter-spacing:1.5px;line-height:15px;text-transform:uppercase}@media screen and (min-width:992px){.wide-body-everyday-checking[_ngcontent-%COMP%]{height:235px}.hide-rates-expand[_ngcontent-%COMP%]{-ms-flex-positive:1;flex-grow:1}}@media screen and (min-width:425px) and (max-width:769px){.slim-body[_ngcontent-%COMP%], .slim-body-spanish[_ngcontent-%COMP%], .wide-body[_ngcontent-%COMP%], .wide-body-spanish[_ngcontent-%COMP%], .wide-body-spanish-everyday[_ngcontent-%COMP%]{height:auto}.benefits-container[_ngcontent-%COMP%], .rates-container[_ngcontent-%COMP%]{-ms-flex-positive:0;flex-grow:0;height:auto}.divider-container-bottom[_ngcontent-%COMP%]{margin-top:10px}}@media screen and (min-width:1200px){.savings-body-height[_ngcontent-%COMP%]{height:185px}.savings-body-height-small[_ngcontent-%COMP%]{height:155px}.savings-body-height-small-spanish[_ngcontent-%COMP%]{height:180px}}@media screen and (max-width:425px){.wide-body[_ngcontent-%COMP%]{min-height:315px!important}.wide-body-spanish[_ngcontent-%COMP%]{min-height:400px!important}.subheading-container[_ngcontent-%COMP%]{margin-top:0}.card-body[_ngcontent-%COMP%]{height:auto}}"]}),e})();var D=n("LvDl");let _=(()=>{class e{constructor(e){this.el=e}ngOnChanges(e){this.addRate()}addRate(){const e=this.el.nativeElement.innerHTML,t=new RegExp(`:${this.packageID}_(PIR|PSR|SR)`,"g"),n=e.replace(t,e=>this.rateString[e]);this.el.nativeElement.innerHTML=n}}return e.\u0275fac=function(t){return new(t||e)(i.Wb(i.l))},e.\u0275dir=i.Rb({type:e,selectors:[["","rateString",""]],inputs:{rateString:"rateString",packageID:"packageID"},features:[i.Bb]}),e})();const P=["oobtaRates"],v=["inbtaNonPromo"],k=["inbtaPromo"],y=["ratesLink"];function T(e,t){1&e&&i.Yb(0)}function I(e,t){if(1&e&&i.Xb(0,"citi-text-header",6),2&e){const e=i.oc();i.Ib("subheading"),i.xc("level",4)("htmlContent",e.cardBody.heading)}}function B(e,t){if(1&e&&i.Xb(0,"citi-text-header",6),2&e){const e=i.oc();i.Ib("subheading"),i.xc("level",4)("htmlContent",e.cardBody.promoHeading)}}function F(e,t){}function E(e,t){1&e&&i.hd(0,F,0,0,"ng-template")}function A(e,t){if(1&e&&(i.hd(0,E,1,0,void 0,0),i.Xb(1,"p",7)),2&e){const e=i.oc(),t=i.Rc(2);i.xc("ngTemplateOutlet",t),i.Db(1),i.xc("rateString",e.ratesString)("packageID",e.packageID)("innerHTML",e.cardBody.rate,i.Wc)}}function L(e,t){}function W(e,t){1&e&&i.hd(0,L,0,0,"ng-template")}function H(e,t){if(1&e){const e=i.dc();i.hd(0,W,1,0,void 0,0),i.cc(1,"p",8,9),i.kc("click",function(){return i.Vc(e),i.oc().clickHandler("rateCTA")}),i.bc()}if(2&e){const e=i.oc(),t=i.Rc(2);i.xc("ngTemplateOutlet",t),i.Db(1),i.xc("innerHTML",e.cardBody.ratesLink,i.Wc)}}function U(e,t){}function j(e,t){1&e&&i.hd(0,U,0,0,"ng-template")}function N(e,t){if(1&e){const e=i.dc();i.hd(0,j,1,0,void 0,0),i.Xb(1,"p",7),i.cc(2,"p",8),i.kc("click",function(){return i.Vc(e),i.oc().clickHandler("termsCTA")}),i.bc()}if(2&e){const e=i.oc(),t=i.Rc(4);i.xc("ngTemplateOutlet",t),i.Db(1),i.xc("rateString",e.ratesString)("packageID",e.packageID)("innerHTML",e.cardBody.rate,i.Wc),i.Db(1),i.xc("innerHTML",e.cardBody.termsAndConditions,i.Wc)}}let $=(()=>{class e{constructor(e,t,n){this.globalFn=e,this.cd=t,this.renderer=n,this.rateCTA=new i.n,this.termsCTA=new i.n}ngOnInit(){this.handlePromo(),this.setTextDecoration()}ngOnChanges(e){this.handlePromo(),this.setTextDecoration()}setTextDecoration(){if(console.log("rateLink",this.ratesLink),this.ratesLink){const e=this.ratesLink.nativeElement.children[0];"Rates"===e.innerText&&this.renderer.addClass(e,"text-underline")}}handlePromo(){this.packageID&&!D.isEmpty(this.ratesPromoData)&&(this.currentTemplate=this.globalFn.isInBtaRegion()?this.ratesPromoData[this.packageID].hasPPO?this.inbtaPromo:this.inbtaNonPromo:this.oobtaRates),this.cd.detectChanges()}clickHandler(e){({rateCTA:e=>{this.rateCTA.emit()},termsCTA:e=>{this.termsCTA.emit()}})[e]()}}return e.\u0275fac=function(t){return new(t||e)(i.Wb(o.a),i.Wb(i.h),i.Wb(i.G))},e.\u0275cmp=i.Qb({type:e,selectors:[["x-card-rate-body"]],viewQuery:function(e,t){if(1&e&&(i.ud(P,1),i.ud(v,1),i.ud(k,1),i.ud(y,1)),2&e){let e;i.Qc(e=i.lc())&&(t.oobtaRates=e.first),i.Qc(e=i.lc())&&(t.inbtaNonPromo=e.first),i.Qc(e=i.lc())&&(t.inbtaPromo=e.first),i.Qc(e=i.lc())&&(t.ratesLink=e.first)}},inputs:{ratesPromoData:"ratesPromoData",ratesString:"ratesString",packageID:"packageID",cardBody:"cardBody"},outputs:{rateCTA:"rateCTA",termsCTA:"termsCTA"},features:[i.Bb],decls:11,vars:1,consts:[[4,"ngTemplateOutlet"],["standardHeading",""],["promoHeading",""],["oobtaRates",""],["inbtaNonPromo",""],["inbtaPromo",""],[3,"level","htmlContent"],[1,"rate",3,"rateString","packageID","innerHTML"],[3,"innerHTML","click"],["ratesLink",""]],template:function(e,t){1&e&&(i.hd(0,T,1,0,"ng-container",0),i.hd(1,I,1,4,"ng-template",null,1,i.id),i.hd(3,B,1,4,"ng-template",null,2,i.id),i.hd(5,A,2,4,"ng-template",null,3,i.id),i.hd(7,H,3,2,"ng-template",null,4,i.id),i.hd(9,N,3,5,"ng-template",null,5,i.id)),2&e&&i.xc("ngTemplateOutlet",t.currentTemplate)},directives:[a.v,p.ge,_],styles:[".rate .foot-note .foot-note-star{vertical-align:middle;color:#333!important;font-size:20px;text-decoration:none}"]}),e})();function X(e,t){1&e&&i.Xb(0,"li",5),2&e&&i.xc("innerHTML",t.$implicit,i.Wc)}function z(e,t){1&e&&i.Xb(0,"li",12),2&e&&i.xc("innerText",t.$implicit)}function G(e,t){if(1&e&&(i.cc(0,"div",10),i.Xb(1,"p",5),i.cc(2,"ul"),i.hd(3,z,1,1,"li",11),i.bc(),i.bc()),2&e){const e=i.oc(2);i.Db(1),i.xc("innerHTML",e.cardFooter.feeWaiverHeading,i.Wc),i.Db(2),i.xc("ngForOf",e.cardFooter.feeWaiverList)}}function V(e,t){if(1&e&&(i.cc(0,"div",13),i.Xb(1,"div",14),i.Xb(2,"p",5),i.bc()),2&e){const e=i.oc(2);i.Db(2),i.xc("innerHTML",e.cardFooter.footnotes,i.Wc)}}function Z(e,t){if(1&e&&(i.ac(0),i.cc(1,"div",3),i.Xb(2,"citi-text-header",4),i.bc(),i.cc(3,"div"),i.Xb(4,"p",5),i.bc(),i.cc(5,"div",6),i.cc(6,"ul"),i.hd(7,X,1,1,"li",7),i.bc(),i.bc(),i.hd(8,G,4,2,"div",8),i.hd(9,V,3,1,"div",9),i.Zb()),2&e){const e=i.oc();i.Db(2),i.Ib("subheading"),i.xc("level",4)("htmlContent",e.cardFooter.heading),i.Db(2),i.xc("innerHTML",e.cardFooter.description,i.Wc),i.Db(3),i.xc("ngForOf",e.cardFooter.qualifications),i.Db(1),i.xc("ngIf",e.cardFooter.feeWaiverHeading),i.Db(1),i.xc("ngIf",e.cardFooter.footnotes)}}function K(e,t){1&e&&i.Xb(0,"li",5),2&e&&i.xc("innerHTML",t.$implicit,i.Wc)}function q(e,t){if(1&e&&i.Xb(0,"p",5),2&e){const e=i.oc(2);i.xc("innerHTML",e.cardFooter.listSubheading,i.Wc)}}function Q(e,t){if(1&e&&i.Xb(0,"p",21),2&e){const e=i.oc(2);i.xc("innerHTML",e.cardFooter.footnote,i.Wc)}}const Y=function(e){return{"premium-savings-list":e}};function J(e,t){if(1&e&&(i.cc(0,"div",3),i.Xb(1,"citi-text-header",4),i.bc(),i.cc(2,"div"),i.Xb(3,"p",15),i.Xb(4,"p",16),i.bc(),i.cc(5,"div",6),i.cc(6,"ul",17),i.hd(7,K,1,1,"li",7),i.bc(),i.hd(8,q,1,1,"p",18),i.bc(),i.cc(9,"div",19),i.Xb(10,"p",5),i.Xb(11,"p",5),i.bc(),i.hd(12,Q,1,1,"p",20)),2&e){const e=i.oc();i.Db(1),i.Ib("subheading"),i.xc("level",4)("htmlContent",e.cardFooter.heading),i.Db(2),i.xc("innerHTML",e.cardFooter.subHeading,i.Wc),i.Db(1),i.xc("innerHTML",e.cardFooter.listHeading,i.Wc),i.Db(2),i.xc("ngClass",i.Hc(12,Y,"premium"==e.styleConfig.packageType)),i.Db(1),i.xc("ngForOf",e.cardFooter.items),i.Db(1),i.xc("ngIf",e.cardFooter.listSubheading),i.Db(2),i.xc("innerHTML",e.cardFooter.waiveFeeHeading,i.Wc),i.Db(1),i.xc("innerHTML",e.cardFooter.waiveFeeDescription,i.Wc),i.Db(1),i.xc("ngIf",e.cardFooter.footnote)}}let ee=(()=>{class e{constructor(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Qb({type:e,selectors:[["x-card-footer"]],inputs:{cardFooter:"cardFooter",styleConfig:"styleConfig"},decls:4,vars:2,consts:[["fxLayout","column",1,"card-footer","cardFooter"],[4,"ngIf","ngIfElse"],["savingsTemplate",""],[1,"footer-heading"],[3,"level","htmlContent"],[3,"innerHTML"],[1,"footer-qualifications"],[3,"innerHTML",4,"ngFor","ngForOf"],["fxFlex","1 0 0","class","above-cta-text",4,"ngIf"],["fxFlex","1 0 0","class"," card-footnotes",4,"ngIf"],["fxFlex","1 0 0",1,"above-cta-text"],[3,"innerText",4,"ngFor","ngForOf"],[3,"innerText"],["fxFlex","1 0 0",1,"card-footnotes"],[1,"divider"],[1,"savings-subheading",3,"innerHTML"],[1,"savings-listheading",3,"innerHTML"],[3,"ngClass"],[3,"innerHTML",4,"ngIf"],[1,"waivefee-container"],["class","cardfooter-footnote",3,"innerHTML",4,"ngIf"],[1,"cardfooter-footnote",3,"innerHTML"]],template:function(e,t){if(1&e&&(i.cc(0,"div",0),i.hd(1,Z,10,8,"ng-container",1),i.bc(),i.hd(2,J,13,14,"ng-template",null,2,i.id)),2&e){const e=i.Rc(3);i.Db(1),i.xc("ngIf",!t.styleConfig.enableSavingsTemplate)("ngIfElse",e)}},directives:[a.q,p.ge,a.p,a.o],styles:["@font-face{font-family:Interstate_Light_Italic;src:url(Interstate_LightItalic.a06d87f92054ea3d9831.otf)}[_nghost-%COMP%]{-ms-flex-positive:1;flex-grow:1;height:50%}.above-cta-text[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], [_nghost-%COMP%]     ul li p, p[_ngcontent-%COMP%]{font-family:Interstate_Light,sans-serif;font-size:.88rem;line-height:20px}.cardfooter-footnote[_ngcontent-%COMP%]{font-family:Interstate_Light_Italic,sans-serif;color:#666}.waivefee-container[_ngcontent-%COMP%]{-ms-flex-positive:1;flex-grow:1}[_nghost-%COMP%]     ul li p{display:inline;padding-left:10px}strong[_ngcontent-%COMP%]{font-family:Interstate_Bold,sans-serif;font-weight:700}.above-cta-text[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%],   ul:first-child{padding-left:19px;padding-bottom:30px}.above-cta-text[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   p[_ngcontent-%COMP%],   ul:first-child p{padding-left:0!important}p[_ngcontent-%COMP%]{display:inline-block!important}.divider[_ngcontent-%COMP%]{height:1px;background:#d2d2d2;margin-top:3px;margin-bottom:15px}[_nghost-%COMP%]     citi-text-header .subheading{font-family:Interstate_Light,sans-serif;font-size:.7rem;color:#666;letter-spacing:1.5px;line-height:15px;text-transform:uppercase}.cardFooter[_ngcontent-%COMP%]{height:100%;padding:0 10px;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}.savings-subheading[_ngcontent-%COMP%]{margin-bottom:4px}.savings-listheading[_ngcontent-%COMP%]{margin-bottom:5px}li[_ngcontent-%COMP%]{line-height:0}@media screen and (min-width:425px) and (max-width:769px){ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{width:75%}ul[_ngcontent-%COMP%]:first-child{margin-bottom:0;padding-bottom:0}p[_ngcontent-%COMP%]{display:block!important}}@media screen and (max-width:425px){.large-cta[_ngcontent-%COMP%], .small-cta[_ngcontent-%COMP%]{width:127px}.btn-container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:first-child{padding-right:10px}.card-footer[_ngcontent-%COMP%]{height:auto;position:inherit;bottom:auto}.premium-minheight[_ngcontent-%COMP%]{min-height:750px}  ul:first-child{padding-bottom:0}.buttons-col[_ngcontent-%COMP%]{position:relative}.premium-savings-list[_ngcontent-%COMP%]{list-style:none;padding-left:0}}@media screen and (min-width:769px){  ul:first-child{padding-bottom:0!important}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:0!important}}.above-cta-text[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding-bottom:0}.above-cta-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0}@media screen and (min-width:992px){.above-cta-text[_ngcontent-%COMP%]{top:-10px;position:relative}.above-cta-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{top:-13px}}"]}),e})(),te=(()=>{class e{constructor(e,t,n,i){this.personalizationService=e,this.globalFn=t,this.el=n,this.renderer=i}ngOnInit(){this.setUpgradeText()}setUpgradeText(){this.globalFn.isUpgradeEligible(this.packageID)&&(this.renderer.setProperty(this.el.nativeElement,"innerHTML",this.cardButtons.upgradeNow),this.renderer.setAttribute(this.el.nativeElement,"aria-label",this.cardButtons.upgradeNow))}}return e.\u0275fac=function(t){return new(t||e)(i.Wb(s.s),i.Wb(o.a),i.Wb(i.l),i.Wb(i.G))},e.\u0275dir=i.Rb({type:e,selectors:[["","appUpgradeNow",""]],inputs:{packageID:"packageID",cardButtons:"cardButtons"}}),e})();const ne=["cta"];let ie=(()=>{class e{constructor(e){this.renderer=e,this.openAccountCTA=new i.n,this.learnMoreCTA=new i.n,this.ctaSize="small"}ngAfterViewInit(){this.setButtonWidth()}handleClick(e){"openAccount"==e?this.openAccountCTA.emit():this.learnMoreCTA.emit()}setButtonWidth(){switch(this.ctaSize){case"large":this.renderer.addClass(this.cta.nativeElement,"large-cta");break;case"small":this.renderer.addClass(this.cta.nativeElement,"small-cta")}}}return e.\u0275fac=function(t){return new(t||e)(i.Wb(i.G))},e.\u0275cmp=i.Qb({type:e,selectors:[["x-card-buttons"]],viewQuery:function(e,t){if(1&e&&i.ud(ne,1),2&e){let e;i.Qc(e=i.lc())&&(t.cta=e.first)}},inputs:{cardButtons:"cardButtons",packageID:"packageID",ctaSize:"ctaSize"},outputs:{openAccountCTA:"openAccountCTA",learnMoreCTA:"learnMoreCTA"},decls:9,vars:6,consts:[[1,"buttons-col"],[1,"btn-container"],["appUpgradeNow","",1,"cta",3,"packageID","cardButtons","innerHTML","click"],["cta",""],[1,"learnmore-btn",3,"click"],[1,"arrow"]],template:function(e,t){1&e&&(i.cc(0,"div",0),i.cc(1,"div",1),i.cc(2,"div"),i.cc(3,"button",2,3),i.kc("click",function(){return t.handleClick("openAccount")}),i.bc(),i.bc(),i.cc(5,"div"),i.cc(6,"button",4),i.kc("click",function(){return t.handleClick("learnMore")}),i.jd(7),i.Xb(8,"span",5),i.bc(),i.bc(),i.bc(),i.bc()),2&e&&(i.Db(3),i.xc("packageID",t.packageID)("cardButtons",t.cardButtons)("innerHTML",t.cardButtons.openAccount,i.Wc),i.Eb("aria-label",t.cardButtons.openAccountAdaText),i.Db(3),i.Eb("aria-label",t.cardButtons.learnMoreAdaText),i.Db(1),i.kd(t.cardButtons.learnMore))},directives:[te],styles:[".large-cta[_ngcontent-%COMP%], .small-cta[_ngcontent-%COMP%]{height:30px;font-size:12px;background:#056dae 100%;border:none;font-weight:700;border-radius:6px;color:#fff;font-family:Interstate_Bold}.cta[_ngcontent-%COMP%]:active, .cta[_ngcontent-%COMP%]:focus, .cta[_ngcontent-%COMP%]:hover{background-color:#002a54}.btn-container[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.btn-container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2){margin-left:15px}.learnmore-btn[_ngcontent-%COMP%]{border:none;background-size:4%;font-family:Interstate_Bold,sans-serif;font-weight:700;font-size:12px;color:#056dae;letter-spacing:0;text-align:center;width:102px;line-height:18px;background-color:#fff}.arrow[_ngcontent-%COMP%]{background-image:url(ChevronRight.d1986965d07408577212.png);background-repeat:no-repeat;background-position:50%;padding-left:15px;background-size:25%}@media screen and (min-width:425px) and (max-width:769px){.large-cta[_ngcontent-%COMP%], .small-cta[_ngcontent-%COMP%]{width:150px;height:40px}.cta[_ngcontent-%COMP%], .learnmore-btn[_ngcontent-%COMP%]{font-size:14px}}@media screen and (min-width:769px){.small-cta[_ngcontent-%COMP%]{width:127px}.large-cta[_ngcontent-%COMP%]{width:167px}  ul:first-child{padding-bottom:0!important}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:0!important}}@media screen and (max-width:425px){.large-cta[_ngcontent-%COMP%], .small-cta[_ngcontent-%COMP%]{min-width:127px}.learnmore-btn[_ngcontent-%COMP%]{min-width:112px}.btn-container[_ngcontent-%COMP%]{padding:0 10px}}@media only screen and (device-width:414px) and (device-height:896px) and (-webkit-device-pixel-ratio:2){.learnmore-btn[_ngcontent-%COMP%]{min-width:127px}}@media only screen and (device-width:390px) and (device-height:844px) and (-webkit-device-pixel-ratio:3){.learnmore-btn[_ngcontent-%COMP%]{min-width:127px}}@media only screen and (device-width:428px) and (device-height:926px) and (-webkit-device-pixel-ratio:3){.learnmore-btn[_ngcontent-%COMP%]{min-width:127px}}@media screen and (min-width:992px){.btn-container[_ngcontent-%COMP%]{padding:0 10px}}@media only screen and (min-device-width:375px) and (max-device-width:667px) and (-webkit-min-device-pixel-ratio:2) and (orientation:portrait){.learnmore-btn[_ngcontent-%COMP%]{min-width:127px}}@media only screen and (min-device-width:375px) and (max-device-width:667px) and (-webkit-min-device-pixel-ratio:2) and (orientation:landscape){.large-cta[_ngcontent-%COMP%], .learnmore-btn[_ngcontent-%COMP%], .small-cta[_ngcontent-%COMP%]{min-width:160px}}@media only screen and (min-device-width:834px) and (max-device-width:1112px) and (-webkit-min-device-pixel-ratio:2){.large-cta[_ngcontent-%COMP%], .learnmore-btn[_ngcontent-%COMP%], .small-cta[_ngcontent-%COMP%]{min-width:160px}}@media only screen and (min-device-width:834px) and (max-device-width:834px) and (orientation:portrait) and (-webkit-min-device-pixel-ratio:2){.large-cta[_ngcontent-%COMP%], .learnmore-btn[_ngcontent-%COMP%], .small-cta[_ngcontent-%COMP%]{min-width:160px}}@media only screen and (min-device-width:1112px) and (max-device-width:1112px) and (orientation:landscape) and (-webkit-min-device-pixel-ratio:2){.large-cta[_ngcontent-%COMP%], .learnmore-btn[_ngcontent-%COMP%], .small-cta[_ngcontent-%COMP%]{min-width:160px}}@media only screen and (min-device-width:1024px) and (max-device-width:1366px) and (-webkit-min-device-pixel-ratio:2){.large-cta[_ngcontent-%COMP%], .learnmore-btn[_ngcontent-%COMP%], .small-cta[_ngcontent-%COMP%]{min-width:160px}}@media only screen and (min-device-width:1024px) and (max-device-width:1024px) and (orientation:portrait) and (-webkit-min-device-pixel-ratio:2){.large-cta[_ngcontent-%COMP%], .learnmore-btn[_ngcontent-%COMP%], .small-cta[_ngcontent-%COMP%]{min-width:160px}}@media only screen and (min-device-width:1366px) and (max-device-width:1366px) and (orientation:landscape) and (-webkit-min-device-pixel-ratio:2){.large-cta[_ngcontent-%COMP%], .learnmore-btn[_ngcontent-%COMP%], .small-cta[_ngcontent-%COMP%]{min-width:160px}}@media only screen and (min-device-width:768px) and (max-device-width:1024px) and (-webkit-min-device-pixel-ratio:2){.large-cta[_ngcontent-%COMP%], .learnmore-btn[_ngcontent-%COMP%], .small-cta[_ngcontent-%COMP%]{min-width:160px}}@media only screen and (min-device-width:768px) and (max-device-width:1024px) and (orientation:portrait) and (-webkit-min-device-pixel-ratio:2){.large-cta[_ngcontent-%COMP%], .learnmore-btn[_ngcontent-%COMP%], .small-cta[_ngcontent-%COMP%]{min-width:160px}}@media only screen and (min-device-width:768px) and (max-device-width:1024px) and (orientation:landscape) and (-webkit-min-device-pixel-ratio:2){.large-cta[_ngcontent-%COMP%], .learnmore-btn[_ngcontent-%COMP%], .small-cta[_ngcontent-%COMP%]{min-width:160px}}"]}),e})();const oe=["flexContainer"],se=["cards"];function ae(e,t){if(1&e){const e=i.dc();i.cc(0,"x-card",0,3),i.Xb(2,"x-card-header",4),i.cc(3,"x-card-body",5),i.cc(4,"x-card-rate-body",6),i.kc("rateCTA",function(){i.Vc(e);const n=t.$implicit;return i.oc().clickHandler("rateCTA",n.id)})("termsCTA",function(){i.Vc(e);const n=t.$implicit;return i.oc().clickHandler("termsCTA",n.id,n.cardBody.termsLink)}),i.bc(),i.bc(),i.Xb(5,"x-card-footer",7),i.cc(6,"x-card-buttons",8),i.kc("openAccountCTA",function(){i.Vc(e);const n=t.$implicit;return i.oc().clickHandler("openAcct",n.id)})("learnMoreCTA",function(){i.Vc(e);const n=t.$implicit;return i.oc().clickHandler("learnMore",n.id)}),i.bc(),i.bc()}if(2&e){const e=t.$implicit,n=i.oc();i.xc("ngClass",n.cardWidth),i.Db(2),i.xc("cardHeader",e.cardHeader)("styleConfig",n.styleConfig)("wrapHeader",n.wrapHeader),i.Db(1),i.xc("cardBody",e.cardBody)("styleConfig",n.styleConfig)("hideRates",n.hideRates),i.Db(1),i.xc("ratesPromoData",n.ratesPromoData)("cardBody",e.cardBody)("packageID",e.id)("ratesString",n.ratesString),i.Db(1),i.xc("cardFooter",e.cardFooter)("styleConfig",n.styleConfig),i.Db(1),i.xc("cardButtons",e.cardButtons)("packageID",e.id)("ctaSize",n.cardButtonSize)}}let ce=(()=>{class e{constructor(e,t,n){this.globalFunction=e,this.storageService=t,this.renderer=n,this.hideRates=!1,this.containerClass="flex-container",this.ratesPromoData=null,this.learnMore=new i.n,this.openAnAccount=new i.n,this.rateCTA=new i.n,this.subscriptions=[],this.termsCTA=new i.n}ngOnChanges(e){this.styleConfig=this.setCardStyling(this.tabType,this.pageType)}ngAfterViewInit(){this.handleContainerStyling()}setCardStyling(e,t){let n;const i="checking"!==t;return n={inBTA:this.globalFunction.isInBtaRegion(),spanish:"es_US"===this.storageService.get("locale"),packageType:e,enableSavingsTemplate:i},n}handleContainerStyling(){this.setContainerClass(this.cards.length);const e=this.cards.changes.subscribe(e=>{this.setContainerClass(e.length)});this.subscriptions.push(e)}setContainerClass(e){if(2==e){this.containerClass="flex-container justify-flex-center";const e=this.cards.find((e,t)=>1==t);this.renderer.addClass(e.elementRef.nativeElement,"margin-left-20")}else this.containerClass="flex-container"}clickHandler(e,t,n){const i={id:t,termsLink:n};({learnMore:e=>{this.learnMore.emit(t)},openAcct:e=>{this.openAnAccount.emit(t)},rateCTA:e=>{this.rateCTA.emit(t)},termsCTA:e=>{this.termsCTA.emit(i)}})[e]()}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}}return e.\u0275fac=function(t){return new(t||e)(i.Wb(o.a),i.Wb(s.q),i.Wb(i.G))},e.\u0275cmp=i.Qb({type:e,selectors:[["x-card-group"]],viewQuery:function(e,t){if(1&e&&(i.ud(oe,1),i.ud(se,1)),2&e){let e;i.Qc(e=i.lc())&&(t.flexContainer=e.first),i.Qc(e=i.lc())&&(t.cards=e)}},inputs:{hideRates:"hideRates",tabType:"tabType",pageType:"pageType",packages:"packages",cardWidth:"cardWidth",ratesPromoData:"ratesPromoData",ratesString:"ratesString",wrapHeader:"wrapHeader",cardButtonSize:"cardButtonSize"},outputs:{learnMore:"learnMore",openAnAccount:"openAnAccount",rateCTA:"rateCTA",termsCTA:"termsCTA"},features:[i.Bb],decls:3,vars:2,consts:[[3,"ngClass"],["flexContainer",""],[3,"ngClass",4,"ngFor","ngForOf"],["cards",""],[3,"cardHeader","styleConfig","wrapHeader"],[3,"cardBody","styleConfig","hideRates"],[3,"ratesPromoData","cardBody","packageID","ratesString","rateCTA","termsCTA"],[3,"cardFooter","styleConfig"],[3,"cardButtons","packageID","ctaSize","openAccountCTA","learnMoreCTA"]],template:function(e,t){1&e&&(i.cc(0,"div",0,1),i.hd(2,ae,7,16,"x-card",2),i.bc()),2&e&&(i.xc("ngClass",t.containerClass),i.Db(2),i.xc("ngForOf",t.packages))},directives:[a.o,a.p,r,g,S,$,ee,ie],styles:[".flex-container[_ngcontent-%COMP%]{width:100%;display:-ms-flexbox;display:flex;margin:0 auto;-ms-flex-pack:justify;justify-content:space-between}.slim-card[_ngcontent-%COMP%], .slim-card-spanish[_ngcontent-%COMP%], .wide-card[_ngcontent-%COMP%], .wide-card-spanish[_ngcontent-%COMP%]{margin-top:15px}@media screen and (min-width:1500px){.slim-card[_ngcontent-%COMP%], .slim-card-spanish[_ngcontent-%COMP%]{-ms-flex:0 0 24%;flex:0 0 24%}.wide-card[_ngcontent-%COMP%], .wide-card-spanish[_ngcontent-%COMP%]{-ms-flex:0 0 32%;flex:0 0 32%}}@media screen and (min-width:1200px){.justify-flex-center[_ngcontent-%COMP%]{-ms-flex-pack:center;justify-content:center}.margin-left-20[_ngcontent-%COMP%]{margin-left:20px}.slim-card-height-savings[_ngcontent-%COMP%]{min-height:700px!important}.slim-card-height-checking[_ngcontent-%COMP%]{height:665px!important}.card-col[_ngcontent-%COMP%]{min-height:610px}.wide-card[_ngcontent-%COMP%]{min-height:630px}.wide-card-spanish[_ngcontent-%COMP%], .wide-card-spanish-height[_ngcontent-%COMP%]{min-height:640px}.slim-card-spanish[_ngcontent-%COMP%]{min-height:820px}.slim-card[_ngcontent-%COMP%]{min-height:690px;min-width:0}}@media screen and (max-width:1200px){.flex-container[_ngcontent-%COMP%]{-ms-flex-wrap:wrap;flex-wrap:wrap}}@media screen and (max-width:320px){.flex-container[_ngcontent-%COMP%]     article:nth-child(3) .slim-header, .flex-container[_ngcontent-%COMP%]     article:nth-child(4) .slim-header{height:5em}}@media screen and (min-width:1200px) and (max-width:1500px){.slim-card[_ngcontent-%COMP%], .slim-card-spanish[_ngcontent-%COMP%]{-ms-flex:0 0 24%;flex:0 0 24%}.wide-card[_ngcontent-%COMP%], .wide-card-spanish[_ngcontent-%COMP%]{-ms-flex:0 0 32%;flex:0 0 32%}}@media screen and (min-width:1024px) and (max-width:1200px){.slim-card[_ngcontent-%COMP%], .slim-card-spanish[_ngcontent-%COMP%]{-ms-flex:0 0 32%;flex:0 0 32%}.wide-card[_ngcontent-%COMP%], .wide-card-spanish[_ngcontent-%COMP%]{-ms-flex:0 0 39%;flex:0 0 39%;margin:10px}.flex-container[_ngcontent-%COMP%]{-ms-flex-pack:center;justify-content:center}.flex-container[_ngcontent-%COMP%]   .wide-card[_ngcontent-%COMP%]:nth-child(3){margin-right:42%}}@media screen and (min-width:768px) and (max-width:1023px){.flex-container[_ngcontent-%COMP%]{-ms-flex-pack:center;justify-content:center}.slim-card[_ngcontent-%COMP%], .slim-card-spanish[_ngcontent-%COMP%]{-ms-flex:0 0 41%;flex:0 0 41%;margin-left:15px}.wide-card[_ngcontent-%COMP%], .wide-card-spanish[_ngcontent-%COMP%]{-ms-flex:0 0 55%;flex:0 0 55%}}@media screen and (min-width:425px) and (max-width:769px){.slim-card[_ngcontent-%COMP%], .slim-card-spanish[_ngcontent-%COMP%], .wide-card[_ngcontent-%COMP%], .wide-card-spanish[_ngcontent-%COMP%]{-ms-flex:0 0 100%;flex:0 0 100%;margin-left:0}.slim-card[_ngcontent-%COMP%]{min-height:490px}}@media screen and (max-width:425px){.slim-card[_ngcontent-%COMP%], .slim-card-spanish[_ngcontent-%COMP%], .wide-card[_ngcontent-%COMP%], .wide-card-spanish[_ngcontent-%COMP%]{height:100%;-ms-flex:0 0 95%;flex:0 0 95%}.flex-container[_ngcontent-%COMP%]{-ms-flex-pack:center;justify-content:center}.card-col[_ngcontent-%COMP%]{min-height:514px!important}}"]}),e})()},"7Kup":function(e,t,n){"use strict";n.d(t,"a",function(){return y});var i=n("fXoL"),o=n("8qkB"),s=n("LvDl"),a=n("hV3Y"),c=n("ofXK"),r=n("l/Bv"),l=n("rB/E");function d(e,t){1&e&&i.Yb(0)}const p=function(e){return{radioOptions:e}};function h(e,t){if(1&e&&(i.ac(0),i.hd(1,d,1,0,"ng-container",6),i.Zb()),2&e){const e=i.oc(),t=i.Rc(8);i.Db(1),i.xc("ngTemplateOutlet",t)("ngTemplateOutletContext",i.Hc(2,p,e.radioOptions))}}function g(e,t){1&e&&i.Yb(0)}function u(e,t){if(1&e&&(i.ac(0),i.hd(1,g,1,0,"ng-container",6),i.Zb()),2&e){const e=i.oc(),t=i.Rc(6);i.Db(1),i.xc("ngTemplateOutlet",t)("ngTemplateOutletContext",i.Hc(2,p,e.radioOptions))}}function m(e,t){1&e&&i.Yb(0)}function f(e,t){if(1&e){const e=i.dc();i.cc(0,"div",9),i.cc(1,"citi-radio",10),i.kc("onClickEvent",function(){i.Vc(e);const t=i.oc().$implicit;return i.oc(2).getRadioOption(t)}),i.bc(),i.bc()}if(2&e){const e=i.oc(),t=e.index,n=e.$implicit,o=i.oc().radioOptions;i.Ob("bb-1",o.length!==t+1),i.Db(1),i.xc("idStr",n.id?n.id+"-default-"+t:"group-radio-option-"+t)("name",n.name)("value",n.value)("label",n.label)}}function x(e,t){if(1&e&&(i.ac(0),i.hd(1,f,2,6,"div",8),i.Zb()),2&e){const e=t.$implicit,n=i.oc(2);i.Db(1),i.xc("ngIf","BTA"===e.showOptionIf&&n.isBtaCustomer||"NBTA"===e.showOptionIf&&!n.isBtaCustomer||"BOTH"===e.showOptionIf)}}function b(e,t){1&e&&i.hd(0,x,2,1,"ng-container",7),2&e&&i.xc("ngForOf",t.radioOptions)}function C(e,t){if(1&e){const e=i.dc();i.cc(0,"citi-radio",10),i.kc("onClickEvent",function(){i.Vc(e);const t=i.oc().$implicit;return i.oc(3).getRadioOption(t)}),i.bc()}if(2&e){const e=i.oc(),t=e.$implicit,n=e.index,o=i.oc().index;i.xc("idStr",t.id?t.id+"-group-"+o+"-"+n:"group-radio-option-"+o+"-"+n)("name",t.name)("value",t.value)("label",t.label)}}function O(e,t){if(1&e&&(i.ac(0),i.hd(1,C,1,4,"citi-radio",15),i.Zb()),2&e){const e=t.$implicit,n=i.oc(3);i.Db(1),i.xc("ngIf","BTA"===e.showOptionIf&&n.isBtaCustomer||"NBTA"===e.showOptionIf&&!n.isBtaCustomer||"BOTH"===e.showOptionIf)}}function M(e,t){if(1&e&&(i.ac(0),i.cc(1,"div",11),i.Xb(2,"h4",12),i.hd(3,O,2,1,"ng-container",7),i.bc(),i.cc(4,"div",13),i.Xb(5,"span",14),i.bc(),i.Zb()),2&e){const e=t.$implicit,n=i.oc(2);i.Db(2),i.xc("innerHtml",e.label,i.Wc),i.Db(1),i.xc("ngForOf",e.options),i.Db(2),i.xc("innerText",n.borderText)}}function R(e,t){1&e&&i.hd(0,M,6,3,"ng-container",7),2&e&&i.xc("ngForOf",t.radioOptions)}let w=(()=>{class e{constructor(e){this.storageService=e,this.borderText="Or",this.isBtaCustomer=!1,this.radioOptions=[],this.allowedTemplate=["DefaultRadioOption","GroupRadioOption"],this.templateName="DefaultRadioOption",this.onCheckedEvent=new i.n}ngOnInit(){this.init()}init(){this.templateName=this.allowedTemplate.includes(this.templateName)?this.templateName:"DefaultRadioOption",this.borderText="es_US"===this.storageService.get("locale")?"O":"Or"}getRadioOption(e){this.onCheckedEvent.emit(e)}}return e.\u0275fac=function(t){return new(t||e)(i.Wb(a.q))},e.\u0275cmp=i.Qb({type:e,selectors:[["x-radio"]],inputs:{isBtaCustomer:"isBtaCustomer",radioOptions:"radioOptions",templateName:"templateName"},outputs:{onCheckedEvent:"onCheckedEvent"},decls:9,vars:3,consts:[[1,"x-radio"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["DefaultRadioOption",""],["GroupRadioOption",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"ngFor","ngForOf"],["class","col-md-12 ptb-10",3,"bb-1",4,"ngIf"],[1,"col-md-12","ptb-10"],[3,"idStr","name","value","label","onClickEvent"],[1,"col-md-12"],[3,"innerHtml"],[1,"x-line"],[3,"innerText"],[3,"idStr","name","value","label","onClickEvent",4,"ngIf"]],template:function(e,t){1&e&&(i.cc(0,"div",0),i.ac(1,1),i.hd(2,h,2,4,"ng-container",2),i.hd(3,u,2,4,"ng-container",2),i.hd(4,m,1,0,"ng-container",3),i.Zb(),i.bc(),i.hd(5,b,1,1,"ng-template",null,4,i.id),i.hd(7,R,1,1,"ng-template",null,5,i.id)),2&e&&(i.Db(1),i.xc("ngSwitch",t.templateName),i.Db(1),i.xc("ngSwitchCase","GroupRadioOption"),i.Db(1),i.xc("ngSwitchCase","DefaultRadioOption"))},directives:[c.s,c.t,c.u,c.v,c.p,c.q,l.ud],styles:[".x-radio[_ngcontent-%COMP%]  .inline-addition{padding-left:0!important}.x-radio[_ngcontent-%COMP%]  label{font-weight:700;text-decoration:none!important}.x-radio[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-weight:700}.x-radio[_ngcontent-%COMP%]   .ptb-10[_ngcontent-%COMP%]{padding-bottom:10px;padding-top:10px}.x-radio[_ngcontent-%COMP%]   .bb-1[_ngcontent-%COMP%]{border-bottom:1px solid #ddd}.x-radio[_ngcontent-%COMP%]   .bb-1[_ngcontent-%COMP%]:last-child{border-bottom:none!important}.x-radio[_ngcontent-%COMP%]   .x-line[_ngcontent-%COMP%]{border-bottom:.1px solid #ddd;line-height:0;margin-bottom:35px;padding-bottom:35px}.x-radio[_ngcontent-%COMP%]   .x-line[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background:#fff;padding-right:20px;padding-left:13px;font-weight:700;position:relative;top:34px}.x-radio[_ngcontent-%COMP%]   .x-line[_ngcontent-%COMP%]:last-child{display:none}"]}),e})();function S(e,t){if(1&e&&i.Xb(0,"p",10),2&e){const e=i.oc().$implicit;i.xc("innerHtml",e.description,i.Wc)}}function D(e,t){if(1&e&&(i.cc(0,"div"),i.Xb(1,"citi-errors",15),i.bc()),2&e){const e=i.oc(3).$implicit,t=i.oc();i.Db(1),i.xc("idStr",e.id)("errorMessage",t.EmptyMessage)}}function _(e,t){if(1&e){const e=i.dc();i.ac(0),i.hd(1,D,2,2,"div",13),i.cc(2,"div"),i.cc(3,"x-radio",14),i.kc("onCheckedEvent",function(t){return i.Vc(e),i.oc(3).onCheckedEvent(t)}),i.bc(),i.bc(),i.Zb()}if(2&e){const e=i.oc(2).$implicit,t=i.oc();i.Db(1),i.xc("ngIf",t.isNotChecked),i.Db(2),i.xc("isBtaCustomer",t.isBtaCustomer)("radioOptions",e.options)("templateName",e.radioTemplate)}}function P(e,t){if(1&e&&(i.ac(0),i.Xb(1,"div",10),i.Zb()),2&e){const e=i.oc(2).$implicit;i.Db(1),i.xc("innerHtml",e.modalBody,i.Wc)}}function v(e,t){if(1&e&&(i.cc(0,"div",11),i.cc(1,"div",12),i.hd(2,_,4,4,"ng-container",13),i.hd(3,P,2,1,"ng-container",13),i.bc(),i.bc()),2&e){const e=i.oc().$implicit;i.Db(2),i.xc("ngIf",!!e.radioTemplate),i.Db(1),i.xc("ngIf",!!e.modalBody)}}function k(e,t){if(1&e){const e=i.dc();i.ac(0),i.cc(1,"x-modal",2),i.kc("showChange",function(e){return t.$implicit.show_modal=e})("closeButtonClick",function(){return i.Vc(e),i.oc().closeButtonClick()}),i.ac(2,3),i.Xb(3,"h3",4),i.hd(4,S,1,1,"p",5),i.Zb(),i.hd(5,v,4,2,"div",6),i.ac(6,7),i.cc(7,"div",8),i.cc(8,"citi-cta",9),i.kc("click",function(){i.Vc(e);const n=t.$implicit;return i.oc().generateAndRedirectTo(n)}),i.bc(),i.bc(),i.Zb(),i.bc(),i.Zb()}if(2&e){const e=t.$implicit,n=t.index;i.Db(1),i.xc("show",e.show_modal)("idStr","dual"+n),i.Db(2),i.xc("innerHtml",e.title,i.Wc),i.Db(1),i.xc("ngIf",!!e.description),i.Db(1),i.xc("ngIf",!!e.radioTemplate||!!e.modalBody),i.Db(3),i.xc("noMargin",!0)("value",e.prinaryButton||e.primaryButton)}}let y=(()=>{class e{constructor(e,t,n,o){this.globalFn=e,this.Personalization=t,this.appConfigService=n,this.windowRef=o,this.pb={},this._window={},this.avokaUrl=null,this.checkedData=null,this.isNotChecked=!1,this.isBtaCustomer=!1,this.PostLoginUpgradeNow={},this.onCloseModal=new i.n,this.onClickProduct=new i.n,this.PackageNameChange=new i.n,this.modalDisplayed=new i.n,this.isRedirectEnable=!0,this.EmptyMessage=null,this.DualModalFlag={},this.PageSignature=null,this.MarketingURL={},this.MarketingPromo={},this.ModalContent=[],this.cssClass=null}set PackageName(e){this.init(),e&&this.showDualModal(e)}init(){this.globalFn.setAPIInformation(),this.setPostLoginUpgradeNow(),this.pb=this.Personalization.getPersonalizationData().personalization,this.avokaUrl=this.appConfigService.getConfig("customConfig").avokaDomain,this.isBtaCustomer=this.globalFn.isInBtaRegion(),this._window=this.windowRef.nativeWindow}setPostLoginUpgradeNow(){this.PostLoginUpgradeNow={Package_CitiPriority:this.pb.isMember&&!this.pb.isIPB&&!this.pb.isGEB&&!this.pb.isCitiPrivateBanking&&!this.pb.isRELOnlyUser&&!this.pb.isCitigold&&!this.pb.isCitipriority&&!("SPF"===this.pb.customerType),Package_GoldRegular:this.pb.isMember&&!this.pb.isIPB&&!this.pb.isGEB&&!this.pb.isCitiPrivateBanking&&!this.pb.isRELOnlyUser&&!this.pb.isCitigold&&!("SPF"===this.pb.customerType)}}onCheckedEvent(e){this.checkedData=e,this.isNotChecked=!1}showDualModal(e){console.log(`DualModal => ${e}`,!!this.ModalContent.find(t=>t.id===e));let t=this.pb.customerType,n=this.pb.isMember?"post":"pre",i=this.isBtaCustomer?"BTA":"OBTA",o=!!this.ModalContent.find(t=>t.id===e),a=this.MarketingURL[e][this.PageSignature],c=a.hasOwnProperty("BTA")&&a.hasOwnProperty("OBTA")?a[i].pre:a.pre,r=a.hasOwnProperty("BTA")&&a.hasOwnProperty("OBTA")?a[i].post:a.post,l=s.isEqual(s.keys(c).sort(),s.keys(s.isObject(r[t])?r[t]||{}:r).sort()),d=this.pb.isMember&&!l,p=s.get(this.DualModalFlag,this.pb.isMember?[e,n,t]:[e,n],!1);!1!==p||o&&!d?(this.ModalContent=this.ModalContent.map(t=>s.assign(t,{show_modal:this.pb.isMember?(l||p)&&t.id==e:t.id==e})),this.modalDisplayed.emit(e)):this.generateAndRedirectTo({id:e},o)}generateAndRedirectTo(e,t=!0){let n=e.id;if(t&&!this.checkedData&&e.options)return void(this.isNotChecked=!0);let i=null,o=this.pb.customerType,a=this.isBtaCustomer?"BTA":"OBTA",c=this.checkedData?this.checkedData.value:null,r=this.MarketingURL[n][this.PageSignature];r=r.hasOwnProperty("BTA")&&r.hasOwnProperty("OBTA")?r[a][this.pb.isMember?"post":"pre"]:r[this.pb.isMember?"post":"pre"],o=this.PostLoginUpgradeNow[n]?"UPGRADE":o,s.isString(r)&&(i=r),s.isObject(r)&&(i=s.isObject(r[c])?r[c][o]||r[c].DEFAULT:r[c]||r[o]||r.DEFAULT,i=s.isObject(i)?i[c]:i),i=this.replaceOrAppendPromo(n,i),this.initRedirectTo(i)}replaceOrAppendPromo(e,t){if(!this.MarketingPromo[e]||t.includes("http"))return t;let n=this.isBtaCustomer?"BTA":"OBTA",i=this.MarketingPromo[e],o=this.pb.isMember?"post":"pre",s=this.MarketingPromo[e][n]?i[n][o]:i[o],a=t.replace(/(Promo_ID=).*?(&)|(&Promo_ID=)[^&]+|(&Promo_ID=)/gi,""),c=a.includes("?")?"&":"?";return a=s?`${a}${c}Promo_ID=${s}`:a,a}initRedirectTo(e){let t=this.globalFn.GoverningState||null,n=e.includes("?")?"&":"?",i=this.pb.isMember||e.includes("http")?e:`${e}${n}GS=${t}`;i=i.includes("http")?i:`${this.avokaUrl}${i}`,this.onClickProduct.emit({href:i,product:this.checkedData}),this.isRedirectEnable&&(this._window.location=i)}closeButtonClick(){this.checkedData=null,this.isNotChecked=!1,this.onCloseModal.emit({package:this.PackageName}),this.PackageNameChange.emit(null)}}return e.\u0275fac=function(t){return new(t||e)(i.Wb(o.a),i.Wb(a.s),i.Wb(a.a),i.Wb(a.v))},e.\u0275cmp=i.Qb({type:e,selectors:[["x-dual-modal"]],inputs:{isRedirectEnable:"isRedirectEnable",EmptyMessage:"EmptyMessage",DualModalFlag:"DualModalFlag",PageSignature:"PageSignature",MarketingURL:"MarketingURL",MarketingPromo:"MarketingPromo",ModalContent:"ModalContent",cssClass:"cssClass",PackageName:"PackageName"},outputs:{onCloseModal:"onCloseModal",onClickProduct:"onClickProduct",PackageNameChange:"PackageNameChange",modalDisplayed:"modalDisplayed"},decls:2,vars:2,consts:[["id","x-dual-modal-account",3,"ngClass"],[4,"ngFor","ngForOf"],[3,"show","idStr","showChange","closeButtonClick"],["header",""],[1,"bold",3,"innerHtml"],[3,"innerHtml",4,"ngIf"],["class","x-w100","body","",4,"ngIf"],["footer",""],[1,"text-center"],[3,"noMargin","value","click"],[3,"innerHtml"],["body","",1,"x-w100"],[1,"row"],[4,"ngIf"],[3,"isBtaCustomer","radioOptions","templateName","onCheckedEvent"],["errorType","alertBox",3,"idStr","errorMessage"]],template:function(e,t){1&e&&(i.cc(0,"div",0),i.hd(1,k,9,7,"ng-container",1),i.bc()),2&e&&(i.xc("ngClass",t.cssClass),i.Db(1),i.xc("ngForOf",t.ModalContent))},directives:[c.o,c.p,r.a,c.q,l.w,w,l.zb],styles:["[_ngcontent-%COMP%]:focus{outline:none}.x-w100[_ngcontent-%COMP%]{width:100%}  citi-errors .alert-box{margin:0 0 20px!important;padding:10px 20px!important;border-left:4px solid #d60000;background-color:#fff!important;border-top:1px solid #dddbdb!important;border-bottom:1px solid #dddbdb!important;border-right:1px solid #dddbdb!important;color:#d60000;font-family:Interstate_Bold,sans-serif;font-weight:700}"]}),e})()},PABo:function(e,t,n){"use strict";n.d(t,"a",function(){return C});var i=n("Ampu"),o=n("tk/3"),s=n("z6cu"),a=n("5+tZ"),c=n("tS1D"),r=n("lJxs"),l=n("JIr8"),d=n("LvDl"),p=n("fFk3"),h=n("ofXK"),g=n("1G5W"),u=n("nYR2"),m=n("XNiG"),f=n("fXoL"),x=n("hV3Y");let b=(()=>{class e{constructor(e,t){this._http=e,this._appConfigService=t,this.unsub$=new m.a,this.METRICS_CAPTURE_URL="",this.METRICS_CAPTURE_CLIENTID=this._appConfigService.getConfig("homepageConfig").clientMetrics.clientID,this.METRICS_CAPTURE_TIMEOUT=900,this.METRICS_CAPTURE_SCOPE="VISITOR",this.clientMetricKeys=[],this.citiData={},this.metrics="",this.isAggregator=!0,this.clientMetricsResponseMsg={},this.applicationID="",this.clientMetricKeys=[],this.citiData=window.citiData}callMetricsCapture(e){this.clientMetricKeys=e.clientMetricKeys,this.isAggregator=e.isAggregator,this.METRICS_CAPTURE_SCOPE=e.scope,this.clientMetricsResponseMsg=e.message,this.METRICS_CAPTURE_TIMEOUT=e.timeout,this.applicationID=e.applicationID,this.METRICS_CAPTURE_URL=this._appConfigService.getConfig("homepageConfig").clientMetrics.url;const t=new o.e({client_id:this.METRICS_CAPTURE_CLIENTID,scope:this.METRICS_CAPTURE_SCOPE,"Accept-Language":"en-US","Content-Type":"application/json"}),n=this.prepareMetricsCaptureReq();this._http.post(this.METRICS_CAPTURE_URL,n,{headers:t}).pipe(Object(g.a)(this.unsub$),Object(c.a)(this.METRICS_CAPTURE_TIMEOUT),Object(u.a)(()=>{null!=window.clientMetricsStatus&&null!=window.clientMetricsStatus.failure&&""===window.clientMetricsStatus.failure&&this.updateClientMetricsStatus(this.clientMetricsResponseMsg.clientMetricsSuccess,"")})).subscribe(e=>{console.log("Location: clientMetrics.service.ts - Success client metric call!")},e=>{console.log("Location: clientMetrics.service.ts - Error client metrics call: ",e),null!=e.status&&200===e.status&&"parsererror"===e.statusText?this.updateClientMetricsStatus(this.clientMetricsResponseMsg.clientMetricsSuccess,""):this.updateClientMetricsStatus("",null!=e.statusText&&"timeout"===e.statusText||null!=e.name&&"TimeoutError"===e.name?this.clientMetricsResponseMsg.clientMetricsAjaxTimedOut:null==e.status||e.status>=200&&e.status<300?this.clientMetricsResponseMsg.clientMetricsAjaxGenericError:this.clientMetricsResponseMsg.clientMetricsAjaxHttpsFailure)})}prepareMetricsCaptureReq(){try{this.clientMetricKeys.forEach((e,t)=>{const n=t===this.clientMetricKeys.length-1?"":",";this.metrics+="rfResponse"===e?"rfSuccess="+this.fetchCitiDataElements(e)+n:"cmsSuccessResponse"===e?"cmsSuccessMsg="+this.fetchCitiDataElements(e)+n:this.clientMetricKeys[t]+"="+this.fetchCitiDataElements(e)+n});const e={transactionId:this.getTxnId(),applicationName:this.applicationID,metricsData:this.metrics};return console.log("Location clientMetrics.service.ts - metrics_ReqParams (body for client metrics call): ",e),JSON.stringify(e)}catch(e){this.updateClientMetricsStatus("",this.clientMetricsResponseMsg.prepareMetricsCaptureReqException)}}fetchCitiDataElements(e){try{let t="";if(null!=this.citiData&&Object.keys(this.citiData).length>0){const n=Object.keys(this.citiData).length;for(let i=0;i<n;i++){if("rfResponse"===e||"cmsSuccessResponse"===e){t=null!=this.citiData[e]&&""!=this.citiData[e]?"SUCCESS":"";break}if("cmsSuccessIntgInd"===e){t=null!=this.citiData.cmsSuccessResponse&&""!=this.citiData.cmsSuccessResponse?"Y":"";break}if("cmsFailureIntgInd"===e){t=null!=this.citiData.cmsFailureMessage&&""!=this.citiData.cmsFailureMessage?"Y":"";break}if("serverSideBullseye"===e){console.log("Location: clientMetrics.service.tsServersidebulleye - citiData bullseye",this.citiData.serverSideBullseye),null==this.citiData.serverSideBullseye&&(this.citiData.serverSideBullseye=!0),t=this.citiData.serverSideBullseye+"";break}t=null!=this.citiData[e]&&""!=this.citiData[e]?this.citiData[e]:"";break}}return t}catch(t){this.updateClientMetricsStatus("",this.clientMetricsResponseMsg.fetchCitiDataElementsException)}}getTxnId(){try{let e="";return null!=this.citiData&&Object.keys(this.citiData).length>0&&(e=null!=this.citiData.CUUID&&""!=this.citiData.CUUID?this.citiData.CUUID+"_"+Date.now():"_"+Date.now()),e}catch(e){this.updateClientMetricsStatus("",this.clientMetricsResponseMsg.getTxnIdException)}}updateClientMetricsStatus(e,t){null!=window.clientMetricsStatus?(window.clientMetricsStatus.success=e,window.clientMetricsStatus.failure=t):window.clientMetricsStatus={success:e,failure:t}}ngOnDestroy(){this.unsub$.next(),this.unsub$.complete()}}return e.\u0275fac=function(t){return new(t||e)(f.gc(o.b),f.gc(x.a))},e.\u0275prov=f.Sb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),C=(()=>{class e{constructor(e,t,n,o,s,a,c){this._http=e,this._appConfigService=t,this._storageService=o,this.citiDataService=s,this._document=a,this.clientMetric=c,this.defaultOffersActive=!1,this.offerOrchestrationUrl="",this.PE_ORCHESTRATION_TIMEOUT=0,this.acxiomCookie="",this.OSResponseStatus="",this.AcxiomDSSuccess="",this.AcxiomDSFailure="",this.RocketFuelDSSuccess="",this.RocketFuelDSFailure="",this.rfDSResponseStatus="",this.rfWSStatusCode="",this.RFContentDataBannerService={},this.rfResponse="",this.rfFailure="",this.rfWSResponseStatus="",this.BannerOSSuccess="",this.BannerOSFailure="",this.offerPlacements=[1,2],this.OSRawResponse={},this.acxiomDSResponseStatus="",this.acxiomWSResponseStatus="",this.acxiomFailure="",this.acxiomCitiData="",this.acxiomResponse="",this.rfWhiteListResult=[],this.parsedRFArr=[],this.rfResPlKeys=[],this.rfModuleArr=[],this.rfContentIdArr=[],this.expAcxiomResponse="",this.offerListCacheKeys={},this.uidMatchUrl="",this.validatedRFObject={},this.getOfferRequestBody={},this.getOfferResponse={},this.offerOrchestrationResponse={},this.offerOrchestrationStatusCode="",this.clickUrlArray=[],this.OSResponse={cmsData:"",cmsMeta:"",clickUrl:[]},this.vendorData={},this.ResponseMsg={},this.getBannerUrl="/cmc/offer/citibanner/banner",this.PE_BANNER_TIMEOUT=0,this.getBannerResponse={},this.getBannerStatusCode="",this.getBannerRequestBody={},this.GetBannerCallStatus="",this.acxiomRcode="",this.cmsSuccessData="",this.liveRampIndicator={},this.cmsFailureMessage="",this.isTaggingDisabled=!1,this.liveRampResponse="",this.identityLink="",this.currentPageID="",this.bannerApplicationId="",this.duplicateContentIDArray=[],this.clientmetricConfig={},this.rfTaggingResponse="",this.window=n.nativeWindow,this.acxiomCookie=null!=i.Cookie.get("CB_AOSDMPRF")?i.Cookie.get("CB_AOSDMPRF"):""}getPopDigit(){const e=i.Cookie.get("CB_popsplit");if(!e||parseInt(e,10)>99){const e=new Date;e.setTime(e.getTime()+31536e6);const t=Math.floor(100*Math.random());return i.Cookie.set("CB_popsplit",t.toString(),e,"/","localhost"===this.window.location.hostname?location.hostname:".citi.com"),t}{let t=null==e?"0":e;return-1!==t.indexOf(":")&&(t=t.substring(0,t.indexOf(":"))),t}}getDynamicBanner(e){return this.vendorData=e.TEXT,this.regExOSMeta=new RegExp(this.vendorData.OS.OSMetaData),this.PE_ORCHESTRATION_TIMEOUT=this.vendorData.PE_ORCHESTRATION_TIMEOUT,this.PE_BANNER_TIMEOUT=this.vendorData.PE_BANNER_TIMEOUT,this.offerPlacements=this.vendorData.OS.offerPlacement,this.isTaggingDisabled=e.isPETaggingFallback,this.currentPageID=this.vendorData.pageID,this.getBannerUrl=this.vendorData.cmsUrl?this.vendorData.cmsUrl:this.getBannerUrl,this.bannerApplicationId=this.vendorData.bannerApplicationId,this.ResponseMsg=e.ResponseMsg,this.clientmetricConfig=e.clientMetricConfig,this.getClientIp().pipe(Object(a.a)(t=>this.makeOSCall(Object.assign(Object.assign({},e),t))),Object(a.a)(e=>""!=this.OSResponse.cmsData?this.callGetBannerService():(this.cmsFailureMessage="",this.cmsSuccessData="",Object(s.a)(e))))}makeOSCall(e){let t;return this.offerOrchestrationHeaders=new o.e({client_id:this._appConfigService.getConfig("homepageConfig").clientID,countryCode:"US",scope:"VISITOR","Accept-Language":"en-US"}),this.offerOrchestrationUrl=this._appConfigService.getConfig("homepageConfig").apiServerUrl+this.vendorData.offerOrchestrationUrl,this.getOfferRequestBody=this.prepareOSrequest(),this.getOfferRequestBody.metaData.ipAddress=e.ip,t=this._http.post(this.offerOrchestrationUrl,this.getOfferRequestBody,{headers:this.offerOrchestrationHeaders,observe:"response",withCredentials:!0}),t.pipe(Object(c.a)(this.PE_ORCHESTRATION_TIMEOUT),Object(r.a)(e=>{let t={};this.offerOrchestrationResponse=e.body,this.offerOrchestrationStatusCode=e.status+"",t={offerOrchHttpCode:this.offerOrchestrationStatusCode,offerOrchResponse:this.offerOrchestrationResponse};let n=this.offerOrchestrationResponse&&this.offerOrchestrationResponse.acxiomCookie?this.offerOrchestrationResponse.acxiomCookie:"";if(-1!=(n?n.indexOf("aos_acxiomResponseCode="):-1)){var i=n?n.split("aos_acxiomResponseCode="):[];i.length>0&&(this.acxiomRcode=i[1])}return this.validateOSRes(t),this.clickUrlArray=this.OSResponse.clickUrl,this.uidMatchUrl=this.uidMatchUrl,this.OSResponseStatus==this.ResponseMsg.OSResponseMsg.invalidOSResponse||this.OSResponseStatus==this.ResponseMsg.OSResponseMsg.OSErrorCode+this.ResponseMsg.OSResponseMsg.timeout||this.OSResponseStatus==this.ResponseMsg.OSResponseMsg.OSErrorCode+this.ResponseMsg.OSResponseMsg.OSErrorMessage?(this.BannerOSFailure=this.OSResponseStatus,""==this.acxiomCookie&&this.setAcxiomCookieSession(this.ResponseMsg.RFWSResponse.aosResponseCode+"="+this.ResponseMsg.OSResponseMsg.OSErrorCode),this.updateOSResponse([],this.OSResponseStatus),this.OSResponse):(this.BannerOSSuccess=this.ResponseMsg.OSResponseMsg.OSSuccess,this.OSResponse)}),Object(l.a)(e=>(this.OSResponseStatus=e.name&&"TimeoutError"==e.name?this.ResponseMsg.OSResponseMsg.OSErrorCode+this.ResponseMsg.OSResponseMsg.timeout:this.ResponseMsg.OSResponseMsg.OSErrorCode+this.ResponseMsg.OSResponseMsg.OSErrorMessage,this.BannerOSFailure=this.OSResponseStatus,this.defaultOffersActive=!0,this.offerOrchestrationStatusCode=e.status?e.status:this.offerOrchestrationStatusCode,Object(s.a)(e))))}getClientIp(){return this._http.get("https://api.ipify.org/?format=json")}isRFRequired(){return!this.defaultOffersActive||(this.updateOSResponse([],this.ResponseMsg.OSResponseMsg.ThrottleMessage),!1)}updateOSResponse(e,t){this.OSResponse.cmsData=e,this.OSResponse.cmsMeta=t}checkUserType(){let e=i.Cookie.get("CBOLECM");""===e||null==e?(this.pageDef="jUSCBOL_Loginpage_Uncookied",this.userType="Uncookied"):"Y"==e.split("-")[0]||"Y"==e.split("-")[20]?(this.pageDef="jUSCBOL_Loginpage_Citigold",this.userType="Gold"):(this.pageDef="jUSCBOL_Loginpage_Cookied",this.userType="Blue")}prepareOSrequest(){this.setExperienceCookie();let e,t=this.window.innerHeight+"",n=this.window.innerWidth+"",o=null!=i.Cookie.get("CBOLECM")&&null!=i.Cookie.get("CBOLECM")?i.Cookie.get("CBOLECM"):"",s=null!=i.Cookie.get("CB_AOSDMPRF")&&null!=i.Cookie.get("CB_AOSDMPRF")?i.Cookie.get("CB_AOSDMPRF"):"";e=void 0!==s&&null!=s?""==s?"Y":"N":"Y";let a=i.Cookie.get("s_pers")?decodeURIComponent(i.Cookie.get("s_pers")):"",c=a?a.split("&vn="):[],r=c.length>0?c[1].split("|"):[],l="NEW",d="";r.length>0&&(l=NaN!=parseInt(r[0])&&parseInt(r[0])>1?"REPEAT":l,d=r[0]);let p,h=d||"1",g=void 0!==navigator.javaEnabled()&&null!=typeof navigator.javaEnabled()&&navigator.javaEnabled(),u=this.getImmediateReferrer(),m=null!=i.Cookie.get("axDP")?i.Cookie.get("axDP"):"",f=null!=i.Cookie.get("axDS")?i.Cookie.get("axDS"):"";if(null==u||null==u||""==u)p="DIRECT",u="";else{let e=u.split("//");e&&(p="|"+e[0]+"//"+e[1].split("/")[0])}if("undefined"!=this.window.global_liveRampResponse&&""!=this.window.global_liveRampResponse)try{let e=this.window.global_liveRampResponse;e=JSON.parse(e),this.identityLink=e.idl}catch(w){this.identityLink=""}let x="";i.Cookie.get("CB_popsplit")||this.getPopDigit(),x=i.Cookie.get("CB_popsplit");let b=i.Cookie.get("CUUID"),C=this.currentPageID?this.currentPageID:"citi-com-checking-overview-ang",O="",M="",R=i.Cookie.get("ccid_ccsid");if(R){R=decodeURI(R);let e=R.split("|");e&&e.length>0?(O=e[1]?e[1]:O,M=e[0]?e[0]:M):(O=O,M=M)}return{rocketFuel:{xpUserId:i.Cookie.get("RFXPUID")},acxiom:{acxiomCookie:s,contextPageId:this.pageDef,experiencePopulation:"PRD",sourcePageId:C,subChannelId:p,axdpCookie:m,axdsCookie:f},metaData:{governingState:i.Cookie.get("GoverningState")?i.Cookie.get("GoverningState"):"",pricingRegion:i.Cookie.get("PricingRegion")?i.Cookie.get("PricingRegion"):"",blueKaiCategory:i.Cookie.get("BKDMP"),browserHeight:t,browserWidth:n,deviceSize:this.getDeviceSize(),enteryPointFlag:void 0!==e&&e?e:"",pageId:C,popDigit:x,returningUserFlag:l,source:"cb",userId:b,ecmCookie:o,visiterNumber:h,javaEnabledFlag:g,screenResolution:`${this.window.screen.availWidth}x${this.window.screen.availHeight}`,sourceUrl:u,identityLink:this.identityLink},customerIdDetails:[{customerIdentifier:O,customerIdType:"CCSID"},{customerIdentifier:M,customerIdType:"CCID"}]}}getDeviceSize(){const e=this.window.innerWidth;return e>983?"L":e>599?"M":"S"}getImmediateReferrer(){try{const e=this._document.referrer;return-1!==e.indexOf("?")?e.substring(0,e.indexOf("?")):e}catch(e){return""}}setExperienceCookie(){this.checkUserType();let e="localhost"===location.hostname?location.hostname:".citi.com",t=i.Cookie.get("experience");null==t||null==t||""==t?null!=i.Cookie.get("CBOLECM")&&null!=i.Cookie.get("CBOLECM")&&""!=i.Cookie.get("CBOLECM")?(i.Cookie.delete("CB_AOSDMPRF","/",e),i.Cookie.set("experience",this.userType,null,"/",e)):i.Cookie.set("experience","Uncookied",null,"/",e):null!=i.Cookie.get("CBOLECM")&&null!=i.Cookie.get("CBOLECM")&&""!=i.Cookie.get("CBOLECM")?this.userType!=t&&(i.Cookie.delete("CB_AOSDMPRF","/",e),i.Cookie.set("experience",this.userType,null,"/",e)):i.Cookie.set("experience","Uncookied",null,"/",e)}validateOSRes(e){let t,n;this.validatedRFObject={rfResPlKeys:{TAB1:[],TAB2:[]},parsedRFArr:{TAB1:[],TAB2:[]},rfModuleArr:{TAB1:[],TAB2:[]},rfContentIdArr:{TAB1:[],TAB2:[]},rfPlacementsArr:{TAB1:[],TAB2:[]}},this.acxiomCookie=null!=i.Cookie.get("CB_AOSDMPRF")?i.Cookie.get("CB_AOSDMPRF"):"",this.offerListCacheKeys.offerlist="pe.acxiom."+this.pageDef+".offers",this.blackListKeywords=this.vendorData.OS.blackListKeywords,this.whiteListKeywords=this.vendorData.OS.whiteListVariables,this.RFMaxLength=this.vendorData.OS.payloadSize;const o=e.offerOrchHttpCode;null!=o&&o<=200&&o<300||(this.OSResponseStatus=this.ResponseMsg.OSResponseMsg.invalidOSResponse,this.updateOSResponse([],this.ResponseMsg.OSResponseMsg.httpsFailure));try{if(t=e.offerOrchResponse.acxiomDomainResponseStatus,n=e.offerOrchResponse.rocketFuelDomainResponseStatus,t&&""===this.acxiomCookie?("Success"===t?this.AcxiomDSSuccess=this.ResponseMsg.DSResponse.acxiomDSSuccessMessage:this.AcxiomDSFailure=this.ResponseMsg.DSResponse.DSErrorCode+this.ResponseMsg.DSResponse.acxiomDSFailureMessage,this.setAcxiomCookieSession(this.ResponseMsg.RFWSResponse.aosResponseCode+"="+this.ResponseMsg.DSResponse.DSErrorCode)):""==this.acxiomCookie&&(this.acxiomDSResponseStatus=this.ResponseMsg.DSResponse.acxiomDSFailureMessage),null!=n&&n?"Success"===n?this.RocketFuelDSSuccess=this.ResponseMsg.DSResponse.RFDSSuccessMessage:this.RocketFuelDSFailure=this.ResponseMsg.DSResponse.rfDSFailureMessage:this.rfDSResponseStatus=this.ResponseMsg.DSResponse.rfDSFailureMessage,!this.validatingAcxiomResponse(e,t))return;try{this.uidMatchUrl=e.offerOrchResponse.rocketFuelResponse.rocketFuelResponse.UIDMatchHTML?e.offerOrchResponse.rocketFuelResponse.rocketFuelResponse.UIDMatchHTML:""}catch(p){}try{if("Success"!==n)return void(this.RFContentDataBannerService="");this.rfWSStatusCode=e.offerOrchResponse.rocketFuelResponse.statusCode,this.RFContentDataBannerService=e.offerOrchResponse.rocketFuelResponse.rocketFuelResponse.ContentData?JSON.stringify(e.offerOrchResponse.rocketFuelResponse.rocketFuelResponse.ContentData):"",this.rfResponse=""!=this.RFContentDataBannerService?this.RFContentDataBannerService:this.rfResponse}catch(p){return void(this.rfWSResponseStatus=this.ResponseMsg.RFWSResponse.RFError)}}catch(p){return this.OSResponseStatus=this.ResponseMsg.OSResponseMsg.invalidOSResponse,void this.updateOSResponse([],this.OSResponseStatus)}try{""==this.OSResponseStatus?this.BannerOSSuccess=this.ResponseMsg.OSResponseMsg.OSSuccess:this.BannerOSFailure=this.OSResponseStatus}catch(p){this.callCMSServiceRFDecision=!1,this.BannerOSFailure=this.OSResponseStatus}this.responseTextFailedRegEx=this.regExOSMeta.test(this.RFContentDataBannerService),this.parsedRFDataBannerService=this.RFContentDataBannerService?JSON.parse(this.RFContentDataBannerService):"",this.rfResPlKeys=this.parsedRFDataBannerService?d.keys(this.parsedRFDataBannerService):"",this.validatedRFObject.rfResPlKeys.TAB1=this.parsedRFDataBannerService.TAB1?d.keys(this.parsedRFDataBannerService.TAB1):[],this.validatedRFObject.rfResPlKeys.TAB2=this.parsedRFDataBannerService.TAB2?d.keys(this.parsedRFDataBannerService.TAB2):[],this.parseRFPlacementObjects(),this.offersResCount=this.parsedRFDataBannerService&&"undefined"!==this.parsedRFDataBannerService.TAB1&&"undefined"!==this.parsedRFDataBannerService.TAB2?this.validatedRFObject.rfResPlKeys.TAB1.length+this.validatedRFObject.rfResPlKeys.TAB2.length:0;let s=d.keys(this.validatedRFObject.parsedRFArr),a=!1;s.forEach(e=>{(d.find(this.validatedRFObject.parsedRFArr[e],{contentID:""})||d.find(this.validatedRFObject.parsedRFArr[e],{ContentID:""}))&&(a=!0)});const c=this.rfBlacklistValidation();if(this.RFContentDataBannerService.length>this.RFMaxLength||this.responseTextFailedRegEx||a||c)return void this.updateOSResponse([],this.ResponseMsg.RFWSResponse.validation_Failure);const r=this.rfWhitelistValidation(this.parsedRFDataBannerService);null!=this.OSRawResponse&&null!=this.parsedRFDataBannerService&&(this.OSRawResponse.rfResponse=this.parsedRFDataBannerService),r||this.parseRFRes(this.validatedRFObject.parsedRFArr),""==this.acxiomCookie&&this.acxiomDSResponseStatus==this.ResponseMsg.DSResponse.acxiomDSFailureMessage&&(this.AcxiomDSFailure=this.ResponseMsg.DSResponse.DSErrorCode+this.ResponseMsg.DSResponse.acxiomDSFailureMessage,this.setAcxiomCookieSession(this.ResponseMsg.RFWSResponse.aosResponseCode+"="+this.ResponseMsg.DSResponse.DSErrorCode)),""==this.acxiomCookie&&"Success"==t&&this.acxiomWSResponseStatus==this.ResponseMsg.acxiomWSResponse.acxiomWSFailure&&(this.acxiomFailure=this.ResponseMsg.acxiomWSResponse.acxiomWSFailure,this.setAcxiomCookieSession(this.ResponseMsg.RFWSResponse.aosResponseCode+"="+this.ResponseMsg.acxiomWSResponse.acxiomWSFailure.split("|")[0])),"Success"==n&&this.rfWSResponseStatus==this.ResponseMsg.RFWSResponse.RFError&&(this.rfFailure=this.ResponseMsg.RFWSResponse.RFError);const l=this.OSResponse;if(""==this.OSResponseStatus){if(this.BannerOSSuccess=this.ResponseMsg.OSResponseMsg.OSSuccess,""==this.rfDSResponseStatus&&""==this.rfWSResponseStatus&&"Success"==n)if(""!=l.cmsData&&(this.rfResponse=this.RFContentDataBannerService),""!=l.cmsMeta&&(this.rfFailure=l.cmsMeta),this.rfWSStatusCode==this.ResponseMsg.RFWSResponse.RFTimedOutStatusCode)this.rfFailure=this.ResponseMsg.RFWSResponse.RFTimedOut;else{const e=Number(this.rfWSStatusCode);e>=200&&e<300||(this.rfFailure=this.ResponseMsg.RFWSResponse.httpsFailure)}}else this.BannerOSFailure=this.OSResponseStatus}validatingAcxiomResponse(e,t){let n=!0;try{if(""===this.acxiomCookie)if("Success"===t){const t=e.offerOrchResponse.acxiomResponse.statusCode;if(t>=200&&t<300){const n=e.offerOrchResponse.acxiomResponse.AcxiomDetail.rCode,o=e.offerOrchResponse.acxiomCookie;n===this.ResponseMsg.acxiomWSResponse.acxiomSuccessRCode?(this.processAxciomDetailAttributes(e.offerOrchResponse.acxiomResponse.AcxiomDetail.attributes,n),this.processOfferList(e.offerOrchResponse.acxiomResponse.AcxiomDetail.ofrlst,n),""!==this.acxiomCitiData&&null==this.AOSDMPRFCookieCode&&(this.acxiomResponse=this.acxiomCitiData),null!=this.AOSDMPRFCookieCode?this.setAcxiomCookieSession(this.AOSDMPRFCookieCode):(i.Cookie.set("CB_AOSDMPRF",o,null,"/",".citi.com"),this.setAcxiomCookieSession(o)),null!=this.OSRawResponse&&null!=e.offerOrchResponse.acxiomResponse.AcxiomDetail&&(this.OSRawResponse.acxiomResponse=e.offerOrchResponse.acxiomResponse.AcxiomDetail)):(n!==this.ResponseMsg.acxiomWSResponse.acxiomTimeOutCode&&(this.acxiomFailure=this.ResponseMsg.acxiomWSResponse.acxiomWSFailure,this.AOSDMPRFCookieCode=this.ResponseMsg.RFWSResponse.aosResponseCode+"="+this.ResponseMsg.acxiomWSResponse.acxiomWSFailure.split("|")[0]),""===n&&""!==t&&(t===this.ResponseMsg.acxiomWSResponse.acxiomTimedOutStatusCode?(this.AOSDMPRFCookieCode=this.ResponseMsg.RFWSResponse.aosResponseCode+"="+this.ResponseMsg.acxiomWSResponse.acxiomTimedOut.split("|")[0],this.acxiomFailure=this.ResponseMsg.acxiomWSResponse.acxiomTimedOut):(this.AOSDMPRFCookieCode=this.ResponseMsg.RFWSResponse.aosResponseCode+"="+this.ResponseMsg.acxiomWSResponse.httpsFailure.split("|")[0],this.acxiomFailure=this.ResponseMsg.acxiomWSResponse.httpsFailure)),this.setAcxiomCookieSession(this.AOSDMPRFCookieCode))}else t===this.ResponseMsg.acxiomWSResponse.acxiomTimedOutStatusCode?(this.setAcxiomCookieSession(this.ResponseMsg.RFWSResponse.aosResponseCode+"="+this.ResponseMsg.acxiomWSResponse.acxiomTimedOut.split("|")[0]),this.acxiomFailure=this.ResponseMsg.acxiomWSResponse.acxiomTimedOut):(this.setAcxiomCookieSession(this.ResponseMsg.RFWSResponse.aosResponseCode+"="+this.ResponseMsg.acxiomWSResponse.httpsFailure.split("|")[0]),this.acxiomFailure=this.ResponseMsg.acxiomWSResponse.httpsFailure)}else this.setAcxiomCookieSession(this.ResponseMsg.RFWSResponse.aosResponseCode+"="+this.ResponseMsg.DSResponse.DSErrorCode)}catch(o){this.acxiomWSResponseStatus=this.ResponseMsg.acxiomWSResponse.acxiomWSFailure,n=!1}return n}parseRFPlacementObjects(){let e=["TAB1","TAB2"];for(let t=0;t<e.length;t++)this.validatedRFObject.rfResPlKeys[e[t]].forEach(n=>{this.validatedRFObject.parsedRFArr[e[t]].push(this.parsedRFDataBannerService[e[t]][n]),null!=this.parsedRFDataBannerService[e[t]][n].moduletype&&this.validatedRFObject.rfModuleArr[e[t]].push(this.parsedRFDataBannerService[e[t]][n].moduletype),null!=this.parsedRFDataBannerService[e[t]][n].contentID&&this.validatedRFObject.rfContentIdArr[e[t]].push(this.parsedRFDataBannerService[e[t]][n].contentID),null!=this.parsedRFDataBannerService[e[t]][n]&&this.validatedRFObject.rfPlacementsArr[e[t]].push(this.parsedRFDataBannerService[e[t]][n])})}rfBlacklistValidation(){let e=!1;for(let t=0;t<this.blackListKeywords.length;t++)-1!==this.RFContentDataBannerService.indexOf(this.blackListKeywords[t])&&(this.updateOSResponse([],this.ResponseMsg.RFWSResponse.validation_Failure),e=!0);return!!e}rfWhitelistValidation(e){let t=!1;return null!=e&&0!==e.length&&d.keys(e).forEach(n=>{this.rfWhiteListResult.includes(n)||Array.isArray(e)||(this.whiteListKeywords.includes(n)||(this.updateOSResponse([],this.ResponseMsg.RFWSResponse.validation_Failure),t=!0),this.rfWhiteListResult.push(n),"object"==typeof e[n]&&this.rfWhitelistValidation(e[n]))}),!!t}parseRFRes(e){try{if(e){const t=[],n=[];Object.keys(e).forEach(i=>{let o=e[i];Object.keys(o).forEach(e=>{const s=null!=o[e].contentID?o[e].contentID.trim():"",a=null!=o[e].moduletype?o[e].moduletype.trim():"",c=null!=o[e].clickURL?o[e].clickURL:"",r=null!==e&&""!==e?e.match(/\d+/g):"";t.push(s+"|"+r+"|"+a),""!==s&&""!==c&&n.push({cID:s,clickURL:c,tab:i})})}),this.updateOSResponse(t.toString(),""),this.OSResponse.clickUrl=n}else this.updateOSResponse([],this.ResponseMsg.OSResponseMsg.missing_Offers)}catch(t){this.updateOSResponse([],t.message)}}processAxciomDetailAttributes(e,t){this.acxiomCitiData="",null!=e&&e.forEach(e=>{const t=e.value;if(""!==t)switch(e.name){case"tx":case"ep":case"cbcat":this.acxiomCitiData+=t+"|";break;case"ex":this.expAcxiomResponse=t,""!==this.userType&&this.expAcxiomResponse.toLowerCase()!==this.userType.toLowerCase()&&(this.acxiomFailure=this.ResponseMsg.acxiomWSResponse.Experience_Mismatch,this.AOSDMPRFCookieCode=this.ResponseMsg.RFWSResponse.aosResponseCode+"="+this.ResponseMsg.acxiomWSResponse.Experience_Mismatch.split("|")[0])}}),null==e||0===e.length?(this.acxiomFailure=this.ResponseMsg.acxiomWSResponse.Missing_attributes,this.AOSDMPRFCookieCode=this.ResponseMsg.RFWSResponse.aosResponseCode+"="+this.ResponseMsg.acxiomWSResponse.Missing_attributes.split("|")[0]):this.acxiomCitiData+=t}processOfferList(e,t){}prepareGetBannerServiceRequest(){let e=["TAB1","TAB2"],t={marketingRequests:[]},n=[];this.duplicateContentIDArray=[];for(let i=0;i<e.length;i++)this.validatedRFObject.rfPlacementsArr[e[i]].forEach(o=>{-1==n.indexOf(o.contentID)?(n.push(o.contentID),t.marketingRequests.push({businessId:"USGCB",applicationId:this.bannerApplicationId,applyNowFlag:"",channelType:"",contentId:o.contentID,decisionType:"",localeType:"en_US",positionId:"",productId:"",sapientUrl:"",screenId:"",subTitleText:"",template:"BANR",titleText:"",locationId:e[i],moduleType:o.moduletype})):this.duplicateContentIDArray.push(o.contentID)});return t}callGetBannerService(){let e=this._appConfigService.getConfig("homepageConfig").apiServerUrl+this.getBannerUrl;return this.getBannerRequestBody=this.prepareGetBannerServiceRequest(),this.cmsFailureMessage="",this._http.post(e,this.getBannerRequestBody,{headers:this.offerOrchestrationHeaders,observe:"response",withCredentials:!0}).pipe(Object(c.a)(this.PE_BANNER_TIMEOUT),Object(r.a)(e=>(this.getBannerResponse=e.body,this.getBannerStatusCode=e.status+"",this.validateBannerServiceResponse(this.getBannerResponse))),Object(l.a)(e=>(this.cmsFailureMessage=e.name,this.cmsSuccessData="",this.updateBannerResponseStatus(e.name&&"TimeoutError"==e.name?this.ResponseMsg.bannerResponseMsg.timeout:this.ResponseMsg.bannerResponseMsg.cmshttpFailure),this.defaultOffersActive=!0,this.getBannerStatusCode=e.status,Object(s.a)(e))))}validateBannerServiceResponse(e){return void 0===e||d.isEmpty(e)||null==e?(this.defaultOffersActive=!0,void this.updateBannerResponseStatus(this.ResponseMsg.bannerResponseMsg.cmsError)):this.parseBannerServiceResponse(e)}updateBannerResponseStatus(e){this.GetBannerCallStatus=e,this.cmsFailureMessage=this.GetBannerCallStatus,this.cmsSuccessData=""}parseBannerServiceResponse(e){let t={};return d.forEach(e.marketingBannerResponses,function(e,n){let i=e.cmsContent;if(i){let o=JSON.parse(i);o.rfContentId=e.contentId;let s={};s[n+1]=o,t=Object.assign(Object.assign({},t),s)}else this.updateBannerResponseStatus(this.ResponseMsg.bannerResponseMsg.Missing_cmsResData)}),this.cmsSuccessData=this.OSResponse.cmsData,this.duplicateContentIDArray.length>0&&d.forEach(this.duplicateContentIDArray,function(e,n){let i={};d.forIn(t,function(n,o){if(n.rfContentId==e){var s=parseInt(d.findLastKey(t))+1;i[s]=n}}),t=Object.assign(Object.assign({},t),i)}),t}triggerClickURL(){let e=[],t=0;t=void 0!==this.OSResponse.clickUrl?this.OSResponse.clickUrl.length:0,t>0&&(e=this.OSResponse.clickUrl),setTimeout(()=>{this._document.querySelector("body").addEventListener("click",function(t){let n=t.target,i=n&&n.dataset&&n.dataset.bannerid?n.dataset.bannerid:"",o="",s=new XMLHttpRequest;if("A"===t.target.tagName||"IMG"===t.target.tagName)for(let a=0;a<e.length;a++)if(i==e[a].cID){o=e[a].clickURL,s.withCredentials=!0,s.open("POST",o,!0),s.send(null),o="";break}})},10)}prepareLRforCitiData(){return this.liveRampIndicator=this.window.liveRampIndicator,""!=this.identityLink&&(this.liveRampIndicator.idlLinkInOS=1),this.liveRampResponse="lr:"+this.liveRampIndicator.callStatus+"|idl:"+this.liveRampIndicator.idlResponse+"|os:"+this.liveRampIndicator.idlLinkInOS+"|t:"+this.liveRampIndicator.responseTime,this.liveRampResponse}prepareCitiData(){const e={AcxiomDSFailure:this.AcxiomDSFailure,AcxiomDSSuccess:this.AcxiomDSSuccess,acxiomFailure:this.acxiomFailure,acxiomResponse:this.acxiomResponse,RocketFuelDSSuccess:this.RocketFuelDSSuccess,RocketFuelDSFailure:this.RocketFuelDSFailure,rfResponse:this.rfResponse,rfFailure:this.rfFailure,BannerOSSuccess:this.BannerOSSuccess,BannerOSFailure:this.BannerOSFailure,acxiomRcode:this.acxiomRcode,cmsSuccessResponse:this.cmsSuccessData,cmsFailureMessage:this.cmsFailureMessage,liveRampResponse:this.prepareLRforCitiData()};this.isTaggingDisabled||(this.citiDataService.updateCitiDataValues(e),this.clientMetric.callMetricsCapture(this.clientmetricConfig))}prepareTaggingData(){try{this.rfTaggingResponse=JSON.parse(this.rfResponse)}catch(e){this.rfTaggingResponse=this.rfResponse}return{AcxiomDSFailure:this.AcxiomDSFailure,AcxiomDSSuccess:this.AcxiomDSSuccess,acxiomFailure:this.acxiomFailure,acxiomResponse:this.acxiomResponse,RocketFuelDSSuccess:this.RocketFuelDSSuccess,RocketFuelDSFailure:this.RocketFuelDSFailure,rfResponse:this.rfTaggingResponse,rfFailure:this.rfFailure,BannerOSSuccess:this.BannerOSSuccess,BannerOSFailure:this.BannerOSFailure,acxiomRcode:this.acxiomRcode,cmsSuccessResponse:this.cmsSuccessData,cmsFailureMessage:this.cmsFailureMessage,liveRampResponse:this.prepareLRforCitiData()}}setAcxiomCookieSession(e){i.Cookie.set("CB_AOSDMPRF",e,null,"/","localhost"===this.window.location.hostname?location.hostname:".citi.com")}checkPEThrottle(e,t){let n=i.Cookie.get(t);return n&&""!==n||(n=Math.floor(100*Math.random())<e?"true":"false",i.Cookie.set(t,n)),n}}return e.\u0275fac=function(t){return new(t||e)(f.gc(o.b),f.gc(x.a),f.gc(x.v),f.gc(x.q),f.gc(p.a),f.gc(h.e),f.gc(b))},e.\u0275prov=f.Sb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},XsMY:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var i=n("fXoL"),o=n("ofXK");let s=(()=>{class e{constructor(e,t,n){this.elementRef=e,this.renderer=t,this._document=n,this.onElementSelection=new i.n}ngAfterViewInit(){this.identifier&&this.elementRef.nativeElement&&this.elementRef.nativeElement.querySelectorAll("."+this.identifier).forEach(e=>{e.setAttribute("aria-label",e.textContent||""),e.setAttribute("aria-describedby",this.extras.field),e.dataset.action=this.elementRef.nativeElement.dataset.action,this.renderer.listen(e,"click",e=>{e.preventDefault(),this.onElementSelection.emit({identifier:e.target.dataset.action,packageName:this.cellData.key,extras:this.cellData})}),this.renderer.listen(e,"keypress",e=>{13==(e.keyCode?e.keyCode:e.which)&&(e.preventDefault(),this.onElementSelection.emit({identifier:e.target.dataset.action,packageName:this.cellData.key,extras:this.cellData}))})})}}return e.\u0275fac=function(t){return new(t||e)(i.Wb(i.l),i.Wb(i.G),i.Wb(o.e))},e.\u0275dir=i.Rb({type:e,selectors:[["","xEmitEvent",""]],inputs:{cellData:"cellData",identifier:"identifier",actionClass:"actionClass",extras:"extras"},outputs:{onElementSelection:"onElementSelection"}}),e})()},Z9Zf:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var i=n("fXoL");let o=(()=>{class e{constructor(){this.packageObj={savingsPackages:{INBTAEveryday:null,INBTAPremium:null,OOBTAEveryday:null,OOBTAPremium:null},checkingPackages:{INBTAEveryday:null,INBTAPremium:null,OOBTAEveryday:null,OOBTAPremium:null}}}getPackage(e,t){return this.packageObj[e][t]}setPackages(e,t){this.assignPackagesToObj("savingsPackages"===e?"savingsPackages":"checkingPackages",t)}assignPackagesToObj(e,t){for(const n in t)this.packageObj[e][n]=t[n]}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=i.Sb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},fFk3:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var i=n("rB/E"),o=n("fXoL");let s=(()=>{class e{constructor(e,t){this._window=e,this.siteCatService=t,this.citiDataObject={}}updateCitiDataValues(e){this._window&&null===this._window.citiData?console.log("location: checking-account-citi-data.service.ts, no citiData object detected - exiting citiData service"):this.setCitiData(e)}setCitiData(e){this.citiDataObject.acxiomFailure=e.acxiomFailure,this.citiDataObject.acxiomResponse=e.acxiomResponse,this.citiDataObject.rfFailure=e.rfFailure,this.citiDataObject.rfResponse=e.rfResponse,this.citiDataObject.BannerOSFailure=e.BannerOSFailure,this.citiDataObject.BannerOSSuccess=e.BannerOSSuccess,this.citiDataObject.AcxiomDSFailure=e.AcxiomDSFailure,this.citiDataObject.AcxiomDSSuccess=e.AcxiomDSSuccess,this.citiDataObject.RocketFuelDSFailure=e.RocketFuelDSFailure,this.citiDataObject.RocketFuelDSSucess=e.RocketFuelDSSuccess,this.citiDataObject.acxiomRcode=e.acxiomRcode,this.citiDataObject.cmsSuccessResponse=e.cmsSuccessResponse,this.citiDataObject.cmsFailureMessage=e.cmsFailureMessage,this.citiDataObject.liveRampResponse=e.liveRampResponse,this.siteCatService.setCitiData(this.citiDataObject)}}return e.\u0275fac=function(t){return new(t||e)(o.gc(i.Ge),o.gc(i.Hd))},e.\u0275prov=o.Sb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},um8J:function(e,t,n){"use strict";n.d(t,"a",function(){return Be});var i=n("fXoL");const o="Provided data is not an array";let s=(()=>{class e{constructor(e){this.template=e}ngOnInit(){}getType(){return this.name}}return e.\u0275fac=function(t){return new(t||e)(i.Wb(i.O))},e.\u0275dir=i.Rb({type:e,selectors:[["","GridTemplate",""]],inputs:{type:"type",name:["GridTemplate","name"]}}),e})();var a=n("xgIS"),c=n("Kj3r"),r=n("LiaK"),l=n("hV3Y"),d=n("ofXK");let p=(()=>{class e{constructor(e){this.el=e}set elementChanged(e){this.manageHeight(this.el.nativeElement,this.cssClass)}ngAfterViewChecked(){this.manageHeight(this.el.nativeElement,this.cssClass)}onResize(){this.manageHeight(this.el.nativeElement,this.cssClass)}manageHeight(e,t){if(!e)return;const n=e.getElementsByClassName(t);if(!n)return;Array.from(n).forEach(e=>{e.style.height="initial"});const i=Array.from(n).map(e=>e.offsetHeight).reduce((e,t)=>t>e?t:e,0);Array.from(n).forEach(e=>e.style.height=`${i}px`)}}return e.\u0275fac=function(t){return new(t||e)(i.Wb(i.l))},e.\u0275dir=i.Rb({type:e,selectors:[["","EqHeight",""]],hostBindings:function(e,t){1&e&&i.kc("resize",function(){return t.onResize()},!1,i.Uc)},inputs:{cssClass:"cssClass",elementChanged:"elementChanged"}}),e})();var h=n("e/AU"),g=n("XsMY");function u(e,t){1&e&&i.Yb(0)}function m(e,t){if(1&e&&(i.ac(0),i.cc(1,"span",6),i.jd(2),i.bc(),i.Zb()),2&e){const e=i.oc(2).cellData;i.Db(2),i.kd(e.value)}}function f(e,t){if(1&e&&i.Xb(0,"span",13),2&e){const e=i.oc(4).cellData;i.xc("innerHtml",e.description,i.Wc)}}function x(e,t){if(1&e&&(i.ac(0),i.cc(1,"span",9),i.cc(2,"div",10),i.jd(3,"\u2713"),i.bc(),i.cc(4,"div",11),i.jd(5),i.bc(),i.bc(),i.hd(6,f,1,1,"span",12),i.Zb()),2&e){const e=i.oc(3).cellData;i.Db(2),i.Eb("aria-label",e.value),i.Db(3),i.ld(" ",e.value," "),i.Db(1),i.xc("ngIf",e.description)}}function b(e,t){if(1&e&&i.Xb(0,"span",13),2&e){const e=i.oc(4).cellData;i.xc("innerHtml",e.description,i.Wc)}}function C(e,t){if(1&e&&(i.cc(0,"div",10),i.jd(1,"\u2015"),i.bc(),i.cc(2,"div",11),i.jd(3),i.bc(),i.hd(4,b,1,1,"span",12)),2&e){const e=i.oc(3).cellData;i.Eb("aria-label",e.value),i.Db(3),i.ld(" ",e.value," "),i.Db(1),i.xc("ngIf",e.description)}}function O(e,t){if(1&e&&(i.ac(0),i.hd(1,x,7,3,"ng-container",7),i.hd(2,C,5,3,"ng-template",null,8,i.id),i.Zb()),2&e){const e=i.Rc(3),t=i.oc(2).cellData;i.Db(1),i.xc("ngIf",!0===t.value)("ngIfElse",e)}}function M(e,t){if(1&e&&(i.ac(0),i.Xb(1,"span",14),i.Zb()),2&e){const e=i.oc(2).cellData;i.Db(1),i.xc("innerHtml",e.value,i.Wc)}}function R(e,t){if(1&e){const e=i.dc();i.ac(0),i.cc(1,"span",15),i.kc("onElementSelection",function(t){return i.Vc(e),i.oc(3).handleEvent(t)}),i.Xb(2,"span",14),i.bc(),i.Zb()}if(2&e){const e=i.oc(2).cellData,t=i.oc();i.Db(1),i.xc("extras",t.column)("cellData",e),i.Eb("data-action",e.identifier),i.Db(1),i.xc("innerHtml",e.value,i.Wc)}}function w(e,t){1&e&&i.Yb(0)}const S=function(e,t){return{cellData:e,cellStyle:t}};function D(e,t){if(1&e&&(i.ac(0),i.hd(1,w,1,0,"ng-container",0),i.Zb()),2&e){const e=t.$implicit;i.oc(4);const n=i.Rc(2);i.Db(1),i.xc("ngTemplateOutlet",n)("ngTemplateOutletContext",i.Ic(2,S,e,null==e?null:e.cellStyle))}}function _(e,t){if(1&e&&(i.ac(0),i.hd(1,D,2,5,"ng-container",16),i.Zb()),2&e){const e=i.oc(2).cellData;i.Db(1),i.xc("ngForOf",e.value)}}function P(e,t){if(1&e){const e=i.dc();i.ac(0),i.cc(1,"div",17),i.kc("onElementSelection",function(t){return i.Vc(e),i.oc(3).handleEvent(t)}),i.Xb(2,"button",18),i.bc(),i.Zb()}if(2&e){const e=i.oc(2).cellData,t=i.oc();i.Db(1),i.xc("extras",t.column)("cellData",e),i.Eb("data-action",e.identifier),i.Db(1),i.xc("innerHtml",e.value,i.Wc),i.Eb("aria-label",e.adaText)("aria-describedby",t.column.field)}}function v(e,t){if(1&e){const e=i.dc();i.ac(0),i.cc(1,"div",19),i.kc("onElementSelection",function(t){return i.Vc(e),i.oc(3).handleEvent(t)}),i.Xb(2,"a",20),i.bc(),i.Zb()}if(2&e){const e=i.oc(2).cellData,t=i.oc();i.Db(1),i.xc("extras",t.column)("cellData",e),i.Eb("data-action",e.identifier),i.Db(1),i.xc("innerHtml",e.value,i.Wc),i.Eb("aria-label",e.adaText)("aria-describedby",t.column.field)}}function k(e,t){if(1&e&&(i.ac(0),i.cc(1,"span",21),i.jd(2),i.bc(),i.Zb()),2&e){const e=i.oc(2).cellData;i.Db(2),i.ld(" ",e.value," ")}}function y(e,t){if(1&e&&(i.cc(0,"div",3),i.hd(1,m,3,1,"ng-container",4),i.hd(2,O,4,2,"ng-container",4),i.hd(3,M,2,1,"ng-container",4),i.hd(4,R,3,4,"ng-container",4),i.hd(5,_,2,1,"ng-container",4),i.hd(6,P,3,6,"ng-container",4),i.hd(7,v,3,6,"ng-container",4),i.hd(8,k,3,1,"ng-container",5),i.bc()),2&e){const e=i.oc().cellData;i.xc("ngClass",e.addClass)("ngSwitch",e.type),i.Eb("data-toggle",e.toggle),i.Db(1),i.xc("ngSwitchCase","number"),i.Db(1),i.xc("ngSwitchCase","boolean"),i.Db(1),i.xc("ngSwitchCase","template"),i.Db(1),i.xc("ngSwitchCase","event"),i.Db(1),i.xc("ngSwitchCase","nested"),i.Db(1),i.xc("ngSwitchCase","button"),i.Db(1),i.xc("ngSwitchCase","link")}}function T(e,t){if(1&e&&(i.hd(0,y,9,10,"div",2),i.pc(1,"xcallback")),2&e){const e=t.cellData,n=i.oc();i.xc("ngIf",i.sc(1,1,e,n.renderingLogic,n.column))}}let I=(()=>{class e{constructor(e,t){this.callback=e,this.el=t,this.onEventTemplateClick=new i.n}ngOnInit(){}handleEvent(e){e.packageName=this.column.field,this.onEventTemplateClick.emit(e)}showLogicHandler(e){return!e.identifier||(e.packageName=this.column.key,this.callback.transform(e,this.renderingLogic))}}return e.\u0275fac=function(t){return new(t||e)(i.Wb(h.a),i.Wb(i.l))},e.\u0275cmp=i.Qb({type:e,selectors:[["cell-formatter"]],inputs:{cellStyle:"cellStyle",cellData:"cellData",replaceStrings:"replaceStrings",column:"column",renderingLogic:"renderingLogic"},outputs:{onEventTemplateClick:"onEventTemplateClick"},decls:3,vars:5,consts:[[4,"ngTemplateOutlet","ngTemplateOutletContext"],["recursiveCell",""],["class","formatted-cell",3,"ngClass","ngSwitch",4,"ngIf"],[1,"formatted-cell",3,"ngClass","ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"font-bold"],[4,"ngIf","ngIfElse"],["blank",""],[1,"svg-icon","table-check-mark"],["role","img",1,"text-center"],[1,"sr-only"],["class","description string text-center",3,"innerHtml",4,"ngIf"],[1,"description","string","text-center",3,"innerHtml"],[1,"template",3,"innerHtml"],["xEmitEvent","","identifier","x-actionLink",3,"extras","cellData","onElementSelection"],[4,"ngFor","ngForOf"],["xEmitEvent","","identifier","x-actionLink",1,"btn-wrapper",3,"extras","cellData","onElementSelection"],["data-action","cellData.identifier",1,"btn","btn-primary","btn-sm","x-actionLink",3,"innerHtml"],["xEmitEvent","","identifier","link",1,"link-wrapper",3,"extras","cellData","onElementSelection"],["href","#","data-action","cellData.identifier",1,"link",3,"innerHtml"],[1,"string"]],template:function(e,t){if(1&e&&(i.hd(0,u,1,0,"ng-container",0),i.hd(1,T,2,5,"ng-template",null,1,i.id)),2&e){const e=i.Rc(2);i.xc("ngTemplateOutlet",e)("ngTemplateOutletContext",i.Ic(2,S,t.cellData,t.cellStyle))}},directives:[d.v,d.q,d.o,d.s,d.t,d.u,g.a,d.p],pipes:[h.a],styles:[".formatted-cell.font-bold[_ngcontent-%COMP%], .formatted-cell[_ngcontent-%COMP%]   .font-bold[_ngcontent-%COMP%],   .formatted-cell .font-bold{font:16px Interstate_Bold,sans-serif}.formatted-cell[_ngcontent-%COMP%]   .table-check-mark[_ngcontent-%COMP%]{width:15px;height:auto;background-image:url(check_mark.cee6ed52a2a02f93665f.png);background-repeat:no-repeat;background-position:50%;margin:0 auto;background-size:contain;text-indent:-99999em;display:block}.formatted-cell[_ngcontent-%COMP%]   .template[_ngcontent-%COMP%]{word-break:break-word;text-align:center!important}.formatted-cell[_ngcontent-%COMP%]   .string[_ngcontent-%COMP%], .formatted-cell[_ngcontent-%COMP%]   .template[_ngcontent-%COMP%]{font-size:14px;display:inline-block}  .formatted-cell a.foot-note{text-decoration:none;color:#055d94!important}  .formatted-cell a.x-actionLink{text-decoration:underline!important;font-size:14px;font-weight:400;line-height:20px;display:inline-block}@media (max-width:992px){.formatted-cell.font-bold[_ngcontent-%COMP%], .formatted-cell[_ngcontent-%COMP%]   .font-bold[_ngcontent-%COMP%],   .formatted-cell .font-bold{font:700 14px Interstate_Bold,sans-serif}}"]}),e})(),B=(()=>{class e{constructor(e,t){this.elementRef=e,this.renderer=t}ngOnInit(){}ngAfterViewInit(){}onScrollEvent(e){this.show&&this.manageStickyHeader()}manageStickyHeader(){const e=this.elementRef.nativeElement,t=document.getElementById("bottomCompareGrid");this.headerOffset=this.headerOffset?this.headerOffset:e.offsetTop,this.footerOffset=this.footerOffset?this.footerOffset:t.offsetTop,this.headerOffset&&e&&(window.pageYOffset>this.headerOffset&&!(window.pageYOffset>this.footerOffset)?this.renderer.addClass(e,"stickyElement"):this.renderer.removeClass(e,"stickyElement"))}}return e.\u0275fac=function(t){return new(t||e)(i.Wb(i.l),i.Wb(i.G))},e.\u0275dir=i.Rb({type:e,selectors:[["","makeSticky",""]],hostBindings:function(e,t){1&e&&i.kc("scroll",function(e){return t.onScrollEvent(e)},!1,i.Uc)},inputs:{show:"show"}}),e})();var F=n("rB/E");function E(e,t){if(1&e&&(i.cc(0,"div",5),i.jd(1),i.bc()),2&e){const e=i.oc();i.Db(1),i.ld(" ",e.errMessage," ")}}function A(e,t){if(1&e&&i.Xb(0,"h3",17),2&e){const e=i.oc(4);i.xc("innerHtml",e.settings.caption.header,i.Wc)}}function L(e,t){if(1&e&&i.Xb(0,"p",18),2&e){const e=i.oc(4);i.xc("innerHTML",e.settings.caption.description,i.Wc)}}function W(e,t){if(1&e&&(i.cc(0,"div",13),i.cc(1,"div",14),i.hd(2,A,1,1,"h3",15),i.hd(3,L,1,1,"p",16),i.bc(),i.bc()),2&e){const e=i.oc(3);i.Db(2),i.xc("ngIf",e.settings.caption.header),i.Db(1),i.xc("ngIf",e.settings.caption.description)}}function H(e,t){if(1&e&&(i.cc(0,"caption"),i.hd(1,W,4,2,"div",12),i.bc()),2&e){const e=i.oc(2);i.Eb("aria-live","polite")("aria-atomic",!1),i.Db(1),i.xc("ngIf",(null==e.settings?null:e.settings.caption)&&(null==e.settings||null==e.settings.caption?null:e.settings.caption.showCaptionInGrid)||void 0===(null==e.settings.caption?null:e.settings.caption.showCaptionInGrid))}}function U(e,t){if(1&e&&i.Xb(0,"td",23),2&e){const e=t.$implicit;i.Ob("x-seperator",t.index>0&&e.children.length),i.xc("innerHtml",e.headerName,i.Wc),i.Eb("colspan",e.children.length)}}function j(e,t){if(1&e&&(i.cc(0,"tr",21),i.hd(1,U,1,4,"td",22),i.pc(2,"xorderColumn"),i.bc()),2&e){const e=i.oc(4);i.Db(1),i.xc("ngForOf",i.rc(2,1,e._headerMap,"columnOrder"))}}function N(e,t){1&e&&i.Yb(0)}const $=function(e,t,n){return{column:e,colorCode:t,seperator:n}};function X(e,t){if(1&e&&(i.ac(0),i.hd(1,N,1,0,"ng-container",24),i.Zb()),2&e){const e=t.$implicit,n=t.first,o=i.oc().first,s=i.oc(5),a=i.Rc(7);i.Db(1),i.xc("ngTemplateOutlet",a)("ngTemplateOutletContext",i.Jc(2,$,e,s.colorCode,!o&&n))}}function z(e,t){if(1&e&&(i.ac(0),i.hd(1,X,2,6,"ng-container",10),i.Zb()),2&e){const e=t.$implicit;i.Db(1),i.xc("ngForOf",e.children)}}function G(e,t){if(1&e&&(i.ac(0),i.hd(1,z,2,1,"ng-container",10),i.Zb()),2&e){const e=i.oc(4);i.Db(1),i.xc("ngForOf",e._headerMap)}}function V(e,t){1&e&&i.Yb(0)}function Z(e,t){if(1&e&&(i.ac(0),i.hd(1,V,1,0,"ng-container",24),i.Zb()),2&e){const e=t.$implicit,n=t.first,o=i.oc(5),s=i.Rc(7);i.Db(1),i.xc("ngTemplateOutlet",s)("ngTemplateOutletContext",i.Jc(2,$,e,o.colorCode,n))}}function K(e,t){if(1&e&&(i.ac(0),i.hd(1,Z,2,6,"ng-container",10),i.Zb()),2&e){const e=i.oc(4);i.Db(1),i.xc("ngForOf",e._headerMap)}}function q(e,t){if(1&e&&(i.ac(0),i.hd(1,j,3,4,"tr",19),i.cc(2,"tr",20),i.hd(3,G,2,1,"ng-container",7),i.hd(4,K,2,1,"ng-container",7),i.bc(),i.Zb()),2&e){const e=i.oc(3);i.Db(1),i.xc("ngIf",!!e._headerMap[0].children),i.Db(1),i.xc("elementChanged",e.columnChanged),i.Db(1),i.xc("ngIf",e.hasLevel2),i.Db(1),i.xc("ngIf",!e.hasLevel2)}}function Q(e,t){if(1&e&&(i.ac(0),i.hd(1,q,5,4,"ng-container",8),i.Zb()),2&e){const e=i.oc(2),t=i.Rc(5);i.Db(1),i.xc("ngIf",e.isDesktopWidth)("ngIfElse",t)}}function Y(e,t){}const J=function(e){return{"x-expanded":e}};function ee(e,t){if(1&e){const e=i.dc();i.cc(0,"tr",26),i.kc("keydown.enter",function(){i.Vc(e);const t=i.oc().$implicit;return i.oc(2).onRowGroupClick(t)})("click",function(){i.Vc(e);const t=i.oc().$implicit;return i.oc(2).onRowGroupClick(t)}),i.cc(1,"td",27),i.Xb(2,"span",28),i.Xb(3,"span",29),i.bc(),i.bc()}if(2&e){const e=i.oc().$implicit,t=i.oc(2);i.xc("ngClass",i.Hc(8,J,!0===e.isExpanded)),i.Eb("data-toggle",!0===e.isExpanded?"expanded":"collapse"),i.Db(1),i.Eb("aria-expanded",e.isExpanded)("data-rowgroup",null==e?null:e.key)("colspan",t.mainRowColspan),i.Db(1),i.xc("innerHTML",e.text,i.Wc),i.Db(1),i.Ob("expand",e.isExpanded)}}function te(e,t){if(1&e&&i.Xb(0,"span",18),2&e){const e=i.oc(4).$implicit;i.xc("innerHTML",e.text,i.Wc)}}function ne(e,t){if(1&e&&(i.cc(0,"td",34),i.hd(1,te,1,1,"span",16),i.bc()),2&e){const e=i.oc(),t=e.$implicit,n=e.first,o=i.oc(5);i.Eb("colspan",o.isDesktopWidth&&o.hasLevel2?t.children.length:o.mainRowColspan),i.Db(1),i.xc("ngIf",n)}}function ie(e,t){if(1&e&&(i.cc(0,"td",36),i.cc(1,"span",37),i.jd(2,"blank"),i.bc(),i.jd(3," \xa0 "),i.bc()),2&e){const e=i.oc(2),t=e.$implicit;i.Ob("x-seperator",!e.first),i.Eb("colspan",t.children.length)}}function oe(e,t){if(1&e&&i.hd(0,ie,4,3,"td",35),2&e){const e=i.oc(6);i.xc("ngIf",e.isDesktopWidth)}}function se(e,t){if(1&e&&(i.ac(0),i.hd(1,ne,2,2,"td",32),i.hd(2,oe,1,1,"ng-template",null,33,i.id),i.Zb()),2&e){const e=t.first,n=i.Rc(3);i.Db(1),i.xc("ngIf",e)("ngIfElse",n)}}const ae=function(e){return{"x-expandedPanel":e}};function ce(e,t){if(1&e&&(i.cc(0,"tr",31),i.hd(1,se,4,2,"ng-container",10),i.bc()),2&e){const e=i.oc().$implicit,t=i.oc().$implicit,n=i.oc(2);i.xc("ngClass",i.Hc(4,ae,!0===t.isExpanded)),i.Eb("id",null==e?null:e.text.split(" ").join("_"))("data-toggle",!0===t.isExpanded?"expanded":"collapse"),i.Db(1),i.xc("ngForOf",n._headerMap)}}function re(e,t){if(1&e&&(i.cc(0,"tr",31),i.cc(1,"td",34),i.Xb(2,"span",18),i.bc(),i.bc()),2&e){const e=i.oc().$implicit,t=i.oc().$implicit,n=i.oc(2);i.xc("ngClass",i.Hc(5,ae,!0===t.isExpanded)),i.Eb("id",null==e?null:e.text.split(" ").join("_"))("data-toggle",!0===t.isExpanded?"expanded":"collapse"),i.Db(1),i.Eb("colspan",n.mainRowColspan),i.Db(1),i.xc("innerHTML",e.text,i.Wc)}}const le=function(e){return{field:e}};function de(e,t){if(1&e){const e=i.dc();i.cc(0,"span"),i.cc(1,"cell-formatter",38),i.kc("onEventTemplateClick",function(t){return i.Vc(e),i.oc(6).handleEvent(t)}),i.bc(),i.bc()}if(2&e){const e=i.oc().$implicit,t=i.oc(2).$implicit,n=i.oc(3);i.Db(1),i.xc("renderingLogic",n.externalCallBack.rates)("cellData",t.records[e])("column",i.Hc(3,le,e))}}function pe(e,t){if(1&e&&(i.ac(0),i.cc(1,"td"),i.hd(2,de,2,5,"span",7),i.bc(),i.Zb()),2&e){const e=t.$implicit,n=i.oc(2).$implicit;i.Db(2),i.xc("ngIf",void 0!==(null==n?null:n.records[e]))}}function he(e,t){if(1&e&&(i.cc(0,"tr",31),i.hd(1,pe,3,1,"ng-container",10),i.bc()),2&e){const e=i.oc(2).$implicit,t=i.oc(2);i.xc("ngClass",i.Hc(3,ae,!0===e.isExpanded)),i.Eb("data-toggle",!0===e.isExpanded?"expanded":"collapse"),i.Db(1),i.xc("ngForOf",t.columnKeys)}}function ge(e,t){if(1&e){const e=i.dc();i.cc(0,"span"),i.cc(1,"cell-formatter",38),i.kc("onEventTemplateClick",function(t){return i.Vc(e),i.oc(8).handleEvent(t)}),i.bc(),i.bc()}if(2&e){const e=i.oc().$implicit,t=i.oc(4).$implicit,n=i.oc(3);i.Db(1),i.xc("renderingLogic",n.externalCallBack.rates)("cellData",t.records[e.field])("column",e)}}function ue(e,t){if(1&e&&(i.ac(0),i.cc(1,"td"),i.hd(2,ge,2,3,"span",7),i.bc(),i.Zb()),2&e){const e=t.$implicit,n=t.index,o=i.oc(2).index,s=i.oc(2).$implicit;i.Db(1),i.Ob("x-seperator",o>0&&0===n),i.Db(1),i.xc("ngIf",void 0!==(null==s?null:s.records[e.field]))}}function me(e,t){if(1&e&&(i.ac(0),i.hd(1,ue,3,3,"ng-container",10),i.Zb()),2&e){const e=i.oc().$implicit;i.Db(1),i.xc("ngForOf",e.children)}}function fe(e,t){if(1&e){const e=i.dc();i.cc(0,"span"),i.cc(1,"cell-formatter",38),i.kc("onEventTemplateClick",function(t){return i.Vc(e),i.oc(7).handleEvent(t)}),i.bc(),i.bc()}if(2&e){const e=i.oc(2).$implicit,t=i.oc(2).$implicit,n=i.oc(3);i.Db(1),i.xc("renderingLogic",n.externalCallBack.rates)("cellData",t.records[e.field])("column",e)}}function xe(e,t){if(1&e&&(i.ac(0),i.cc(1,"td"),i.hd(2,fe,2,3,"span",7),i.bc(),i.Zb()),2&e){const e=i.oc(),t=e.index,n=e.$implicit,o=i.oc(2).$implicit;i.Db(1),i.Ob("x-seperator",t>0),i.Db(1),i.xc("ngIf",void 0!==(null==o?null:o.records[n.field]))}}function be(e,t){if(1&e&&(i.ac(0),i.hd(1,me,2,1,"ng-container",7),i.hd(2,xe,3,3,"ng-container",7),i.Zb()),2&e){const e=i.oc(5);i.Db(1),i.xc("ngIf",e.hasLevel2),i.Db(1),i.xc("ngIf",!e.hasLevel2)}}function Ce(e,t){if(1&e&&(i.cc(0,"tr",31),i.hd(1,be,3,2,"ng-container",10),i.bc()),2&e){const e=i.oc(2).$implicit,t=i.oc(2);i.xc("ngClass",i.Hc(3,ae,!0===e.isExpanded)),i.Eb("data-toggle",!0===e.isExpanded?"expanded":"collapse"),i.Db(1),i.xc("ngForOf",t._headerMap)}}function Oe(e,t){if(1&e&&(i.ac(0),i.hd(1,ce,2,6,"tr",30),i.hd(2,re,3,7,"tr",30),i.hd(3,he,2,5,"tr",30),i.hd(4,Ce,2,5,"tr",30),i.Zb()),2&e){const e=t.$implicit,n=i.oc(3);i.Db(1),i.xc("ngIf",n.hasLevel2&&n.isDesktopWidth&&(null==e?null:e.text)),i.Db(1),i.xc("ngIf",!n.hasLevel2&&n.isDesktopWidth&&(null==e?null:e.text)||!n.isDesktopWidth&&(null==e?null:e.text)),i.Db(1),i.xc("ngIf",!n.isDesktopWidth),i.Db(1),i.xc("ngIf",n.isDesktopWidth)}}function Me(e,t){if(1&e&&(i.ac(0),i.hd(1,ee,4,10,"tr",25),i.hd(2,Oe,5,4,"ng-container",10),i.Zb()),2&e){const e=t.$implicit;i.Db(1),i.xc("ngIf",e.rows.length),i.Db(1),i.xc("ngForOf",e.rows)}}function Re(e,t){if(1&e&&(i.cc(0,"table",6),i.hd(1,H,2,3,"caption",7),i.cc(2,"thead"),i.hd(3,Q,2,2,"ng-container",8),i.hd(4,Y,0,0,"ng-template",null,9,i.id),i.bc(),i.cc(6,"tbody"),i.hd(7,Me,3,2,"ng-container",10),i.Xb(8,"tr",11),i.bc(),i.bc()),2&e){const e=i.Rc(5),t=i.oc();i.Db(1),i.xc("ngIf",t.settings),i.Db(2),i.xc("ngIf",!(null!=t.settings&&t.settings.headerTemplate))("ngIfElse",e),i.Db(4),i.xc("ngForOf",t._dataSource)}}function we(e,t){if(1&e){const e=i.dc();i.cc(0,"citi-options2",47),i.kc("click",function(){i.Vc(e);const n=t.$implicit,o=i.oc(3).index,s=i.oc(2);return!(s.columnKeys.indexOf(n.field)>-1)&&s.valueChangeHandler(n,o)}),i.bc()}if(2&e){const e=t.$implicit,n=i.oc(5);i.Ob("x-disabled",n.columnKeys.indexOf(e.field)>-1),i.xc("label",n.getDrDwnLabel(e))("value",e.field)}}function Se(e,t){if(1&e&&(i.cc(0,"citi-options-group2",45),i.hd(1,we,1,4,"citi-options2",46),i.bc()),2&e){const e=i.oc().$implicit;i.xc("groupName",e.headerName),i.Db(1),i.xc("ngForOf",e.children)}}function De(e,t){if(1&e){const e=i.dc();i.cc(0,"citi-options2",47),i.kc("click",function(){i.Vc(e);const t=i.oc().$implicit,n=i.oc().index,o=i.oc(2);return!(o.columnKeys.indexOf(t.field)>-1)&&o.valueChangeHandler(t,n)}),i.bc()}if(2&e){const e=i.oc().$implicit,t=i.oc(3);i.Ob("x-disabled",t.columnKeys.indexOf(e.field)>-1),i.xc("label",e.headerName)("value",e.field)}}function _e(e,t){if(1&e&&(i.ac(0),i.hd(1,Se,2,2,"citi-options-group2",43),i.hd(2,De,1,4,"citi-options2",44),i.Zb()),2&e){const e=t.$implicit;i.Db(1),i.xc("ngIf",e.children),i.Db(1),i.xc("ngIf",!e.children)}}function Pe(e,t){if(1&e){const e=i.dc();i.cc(0,"div"),i.cc(1,"cell-formatter",48),i.kc("onEventTemplateClick",function(t){return i.Vc(e),i.oc(3).handleEvent(t)}),i.bc(),i.bc()}if(2&e){const e=i.oc().$implicit,t=i.oc(2);i.Db(1),i.xc("cellData",t.settings.headerData[e])("column",i.Hc(3,le,e))("renderingLogic",t.externalCallBack.isUpgrade)}}function ve(e,t){if(1&e&&(i.cc(0,"td",41),i.cc(1,"citi-dropdown2",42),i.hd(2,_e,3,2,"ng-container",10),i.pc(3,"xorderColumn"),i.bc(),i.hd(4,Pe,2,5,"div",7),i.bc()),2&e){const e=t.$implicit,n=t.index,o=i.oc(2);i.dd("border-top-color",o.colorCode[o.columnKeys[n]]),i.Db(1),i.zc("placeholder","Compare ",o.dropdownLabel["drwn_"+n],""),i.zc("label","Compare ",o.dropdownLabel["drwn_"+n],""),i.yc("idStr",o.dropdownLabel["drwn_"+n]),i.xc("labelId","x-dropdownLbl"+n)("value",o.columnKeys[n]),i.Db(1),i.xc("ngForOf",i.rc(3,9,o._headerMap,"columnOrder")),i.Db(2),i.xc("ngIf",o.settings.headerData[e])}}function ke(e,t){if(1&e&&(i.cc(0,"tr",39),i.hd(1,ve,5,12,"td",40),i.bc()),2&e){const e=i.oc();i.xc("show",!e.isDesktopWidth||e.isIEUserAgent()),i.Db(1),i.xc("ngForOf",e.columnKeys)}}function ye(e,t){if(1&e){const e=i.dc();i.cc(0,"div"),i.cc(1,"cell-formatter",48),i.kc("onEventTemplateClick",function(t){return i.Vc(e),i.oc(2).handleEvent(t)}),i.bc(),i.bc()}if(2&e){const e=i.oc().column,t=i.oc();i.Db(1),i.xc("cellData",t.settings.headerData[e.field])("column",e)("renderingLogic",t.externalCallBack.isUpgrade)}}function Te(e,t){if(1&e&&(i.cc(0,"th",49),i.Xb(1,"p",50),i.hd(2,ye,2,3,"div",7),i.bc()),2&e){const e=t.column,n=t.colorCode,o=t.seperator,s=i.oc();i.dd("border-top-color",n[null==e?null:e.field]),i.Ob("selectedProduct",e.field==s.selectedProduct)("x-seperator",o),i.Eb("id",e.headerName),i.Db(1),i.xc("innerHtml",e.headerName,i.Wc),i.Eb("id",e.field),i.Db(1),i.xc("ngIf",s.settings.headerData[e.field])}}var Ie=function(e){return e.drwn_0="First",e.drwn_1="Second",e.drwn_2="Third",e}({});let Be=(()=>{class e{constructor(e){this.windowRef=e,this.onEventTemplateClick=new i.n,this._dataSource={},this.gridData={},this.noRecords=!1,this.isDesktopWidth=!0,this.isMobileWidth=!1,this.columnKeys=[],this._hideColumn=[],this.replaceRatesString={},this._headerMap=[],this.drwnPrefix="<span class='",this.state=!0,this.expandAll=!0,this.columnChanged=!0,this.mainRowColspan=0,this.expandPanelIndexes=[],this.hasLevel2=!1,this.dropdownLabel=Ie}set dataSource(e){this.gridData=e,this._dataSource=e,this.hasValidData(),this.formatData()}set hideColumn(e){this._hideColumn=e,this.columnChanged=!this.columnChanged,this.formatData()}set hideRow(e){this._hideRow=e,this.formatData()}set replaceStrings(e){this.replaceRatesString=e,this.formatData()}set toggleContent(e){this._toggleContent=e,this.formatData()}ngOnInit(){this.onResize(),this.initData(),Object(a.a)(window,"resize").pipe(Object(c.a)(300)).subscribe(e=>{this.onResize(e)})}ngAfterContentInit(){this.templates.length&&this.templates.forEach(e=>{switch(e.getType()){case"GridHeader":this.headerTemplate=e.template}})}initData(){this.getKeysFromDatasource(),this.allItemExpand()}replaceDyContent(){if(this.gridData&&this.replaceRatesString){let e=JSON.stringify(this._dataSource);Object.keys(this.replaceRatesString).forEach(t=>{e.indexOf(t)>-1&&(e=e.replace(new RegExp(t,"g"),this.replaceRatesString[t]))}),this._dataSource=JSON.parse(e)}}hasValidData(){Array.isArray(this._dataSource)?this._dataSource.length?(this.noRecords=!1,this.errMessage=null):(this.noRecords=!0,this.errMessage="No Records found",console.warn("No Records found")):(this.noRecords=!0,this.errMessage=o,console.warn(o))}getColHeader(e){for(let t=0;t<this._headerMap.length;t++){let n=this._headerMap[t];for(let t=0;t<n.echildren.length;t++){let i=n.children[t];if(i.field==e)return i.headerName}}return""}valueChangeHandler(e,t){this.columnKeys[t]=e.field}onResize(e){this.isDesktopWidth=this.windowRef.nativeWindow.innerWidth>1024,this.isMobileWidth=this.windowRef.nativeWindow.innerWidth<768,this.setDefaultDrwnValues(),this.isChildExist()}getDisablityStatus(e){const t=e.field;let n=!1;for(let i=0;i<this.columnKeys.length;i++)if(t===this.columnKeys[i]){n=!0;break}return n}getKeysFromDatasource(){return this._dataSource?Object.keys(this._dataSource[0].rows[0].records):[]}formatData(){this._dataSource&&this.settings&&(this._dataSource=JSON.parse(JSON.stringify(this.gridData)),this._headerMap=JSON.parse(JSON.stringify(this.settings.headerMap)),this.expandPanelIndexes=this.settings.expandPanelIndexes,this.filterRows(),this.filterColumns(),this.replaceDyContent(),this.allItemExpand(),this.setDefaultDrwnValues(),this.isChildExist())}filterRows(){if(this.gridData&&this._hideRow){const e=this.gridData.filter((e,t)=>!(this._hideRow&&this._hideRow.indexOf(e.key)>-1));this._dataSource=JSON.parse(JSON.stringify(e)),e.forEach((e,t)=>{if(e.rows){const n=e.rows.filter(e=>!(this._hideRow&&this._hideRow.indexOf(e.key)>-1));this._dataSource[t].rows=n}})}}filterColumns(){if(this.settings.headerMap&&this._hideColumn)if(this.hasLevel2)this.settings.headerMap.forEach((e,t)=>{const n=e.children.filter(e=>!(this._hideColumn.indexOf(e.field)>-1));this._headerMap[t].children=n});else{const e=this.settings.headerMap.filter(e=>!(this._hideColumn.indexOf(e.field)>-1));this._headerMap=e}}allItemExpand(){var e;const t=this.expandAll;if(this._dataSource)if(null===(e=this.expandPanelIndexes)||void 0===e?void 0:e.length)this._dataSource.forEach((e,t)=>{const n=this.expandPanelIndexes.indexOf(t);e.isExpanded=n>-1});else for(const n of this._dataSource)n.isExpanded=t}onRowGroupClick(e){let t=null;for(const n of this._dataSource)if(n.key===e.key){n.isExpanded=!n.isExpanded,t=JSON.parse(JSON.stringify(n));break}}handleEvent(e){this.onEventTemplateClick.emit(e)}getDrDwnLabel(e){return"<span class='"+e.field+"'></span>"+e.headerName}isIEUserAgent(){const e=this.windowRef.nativeWindow.navigator.userAgent;return e.indexOf("MSIE ")>-1||e.indexOf("Trident/")>-1}setDefaultDrwnValues(){let e=0;!this.isDesktopWidth&&this.isMobileWidth&&(e=2),this.isDesktopWidth||this.isMobileWidth||(e=3),this.columnKeys=Array(e).fill(0).map((e,t)=>this.hasLevel2?this.settings.defaultDropDownValues?this.settings.defaultDropDownValues[t]:this._headerMap[0].children[t].field:this.settings.defaultDropDownValues?this.settings.defaultDropDownValues[t]:this._headerMap[t].field)}isChildExist(){if(this.isDesktopWidth){let e=0;for(let t=0;t<this._headerMap.length;t++){if(this.hasLevel2=!!this._headerMap[t]&&this._headerMap[t].hasOwnProperty("children"),this.hasLevel2&&(this._headerMap[t].children=this.orderColumns(this._headerMap[t].children)),!this.hasLevel2){e=this._headerMap.length;break}e+=this._headerMap[t].children.length}this.mainRowColspan=e}else this.mainRowColspan=this.columnKeys.length}orderColumns(e){return(new r.a).transform(e,"columnOrder")}}return e.\u0275fac=function(t){return new(t||e)(i.Wb(l.v))},e.\u0275cmp=i.Qb({type:e,selectors:[["x-compare-grid"]],contentQueries:function(e,t,n){if(1&e&&i.Pb(n,s,0),2&e){let e;i.Qc(e=i.lc())&&(t.templates=e)}},inputs:{settings:"settings",layout:"layout",styleClass:"styleClass",externalCallBack:"externalCallBack",colorCode:"colorCode",selectedProduct:"selectedProduct",dataSource:"dataSource",hideColumn:"hideColumn",hideRow:"hideRow",replaceStrings:"replaceStrings",toggleContent:"toggleContent"},outputs:{onEventTemplateClick:"onEventTemplateClick"},decls:8,vars:2,consts:[[1,"x-grid-wrapper"],["class","alert alert-danger",4,"ngIf","ngIfElse"],["tableContent",""],["mobileTemplate",""],["actionInHeader",""],[1,"alert","alert-danger"],[1,"custom-table"],[4,"ngIf"],[4,"ngIf","ngIfElse"],["HeaderTemplate",""],[4,"ngFor","ngForOf"],["id","bottomCompareGrid"],["class","row x-headingWrapper",4,"ngIf"],[1,"row","x-headingWrapper"],[1,"col-xs-12","col-sm-12","col-md-12","text-center"],["class","table-caption",3,"innerHtml",4,"ngIf"],[3,"innerHTML",4,"ngIf"],[1,"table-caption",3,"innerHtml"],[3,"innerHTML"],["class","main-header-row",4,"ngIf"],["EqHeight","","cssClass","action-header","id","stickyPkgHeader",1,"sticky-header",3,"elementChanged"],[1,"main-header-row"],["class","main-header",3,"x-seperator","innerHtml",4,"ngFor","ngForOf"],[1,"main-header",3,"innerHtml"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngClass","keydown.enter","click",4,"ngIf"],[3,"ngClass","keydown.enter","click"],["role","button","tabindex","0",1,"toggle-row-header"],[1,"toggle-text",3,"innerHTML"],[1,"arrow"],["class","x-panel",3,"ngClass",4,"ngIf"],[1,"x-panel",3,"ngClass"],["class","row-header",4,"ngIf","ngIfElse"],["noContent",""],[1,"row-header"],["class","row-header","aria-label","No value",3,"x-seperator",4,"ngIf"],["aria-label","No value",1,"row-header"],[1,"sr-only"],[3,"renderingLogic","cellData","column","onEventTemplateClick"],["makeSticky","","id","stickyPkgHeaderMb",3,"show"],["class","x-dropdown x-custom-template",3,"borderTopColor",4,"ngFor","ngForOf"],[1,"x-dropdown","x-custom-template"],["dropdownTheme","light","size","fullwidth","additionalClasses","x-customCompareOption",3,"placeholder","label","labelId","value","idStr"],[3,"groupName",4,"ngIf"],[3,"label","value","x-disabled","click",4,"ngIf"],[3,"groupName"],[3,"label","value","x-disabled","click",4,"ngFor","ngForOf"],[3,"label","value","click"],[3,"cellData","column","renderingLogic","onEventTemplateClick"],[1,"action-wrapper"],["role","heading","aria-level","2",1,"action-header",3,"innerHtml"]],template:function(e,t){if(1&e&&(i.cc(0,"div",0),i.hd(1,E,2,1,"div",1),i.bc(),i.hd(2,Re,9,4,"ng-template",null,2,i.id),i.hd(4,ke,2,2,"ng-template",null,3,i.id),i.hd(6,Te,3,10,"ng-template",null,4,i.id)),2&e){const e=i.Rc(3);i.Db(1),i.xc("ngIf",t.noRecords)("ngIfElse",e)}},directives:[d.q,d.p,p,d.v,d.o,I,B,F.rb,F.Zc,F.Yc],pipes:[r.a],styles:['.x-custom-template .dropdown.light{border:1px solid #bbb}  .x-custom-template .dropdown2-wrapper{padding:0 5px}  .x-custom-template .dropdown.light .dropdownText{font:700 16px/22px Interstate_Bold,sans-serif;text-align:left;color:#056dae}  .x-custom-template .dropdown.light[aria-expanded=true]{border:1px solid #056dae!important;background-color:#eff3f8;-ms-transform:rotate(0deg);transform:rotate(0deg);transition:transform .4s ease-in-out}  .x-custom-template .dropdown.light[aria-expanded=true] .arrowIcon{-ms-transform:rotate(180deg);transform:rotate(180deg);margin-top:10px}  .x-custom-template .dropdownErrorMessage{text-align:left;display:block;padding:5px}  .x-custom-template .dropdownLabel{font:12px/18px Interstate_Regular,sans-serif}  .x-custom-template .dropdown.light:focus{outline:2px solid #000}  .foot-note{text-decoration:none!important}  .foot-note:focus,   .foot-note:hover{text-decoration:underline!important}.x-grid-wrapper[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]:before{content:none}.x-grid-wrapper[_ngcontent-%COMP%]   .table-caption[_ngcontent-%COMP%]{font:42px Interstate_Bold,sans-serif}.x-grid-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]{overflow:auto}.x-grid-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%], .x-grid-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .x-grid-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:center}.x-grid-wrapper[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:20px auto;width:80%}*[_ngcontent-%COMP%], [_ngcontent-%COMP%]:focus{outline:none}.x-grid-wrapper[_ngcontent-%COMP%]   .dropdown2-wrapper[_ngcontent-%COMP%]{position:static!important;margin-bottom:12px!important}  .x-disabled .dd2-option,   .x-disabled .dd2-option *{opacity:.7;pointer-events:none;cursor:default}.x-grid-wrapper[_ngcontent-%COMP%]{width:100%;clear:both}.x-grid-wrapper[_ngcontent-%COMP%]   .custom-table[_ngcontent-%COMP%]{width:100%;table-layout:fixed;border-collapse:separate;border-bottom:1px solid #ccc}.x-grid-wrapper[_ngcontent-%COMP%]   .custom-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{border-top:1px solid #ccc!important}.x-grid-wrapper[_ngcontent-%COMP%]   .custom-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .x-grid-wrapper[_ngcontent-%COMP%]   .custom-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .x-grid-wrapper[_ngcontent-%COMP%]   .custom-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:15px 20px;text-align:center;width:auto;display:table-cell;vertical-align:top}.x-grid-wrapper[_ngcontent-%COMP%]   .custom-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:not(.toggle-row-header, .row-header)[_ngcontent-%COMP%]{padding:25px 20px}.x-grid-wrapper[_ngcontent-%COMP%]   .custom-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#eee}[data-toggle=collapse][_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-bottom:none!important}@media (max-width:1024px){  .x-grid-wrapper .x-dropdown .link{font-weight:700}.x-grid-wrapper[_ngcontent-%COMP%]   .table-caption[_ngcontent-%COMP%]{font:700 16px Interstate_Bold,sans-serif;font-weight:700}.x-grid-wrapper[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}.x-grid-wrapper[_ngcontent-%COMP%]   .custom-table[_ngcontent-%COMP%]{border-top:none}  .x-grid-wrapper .custom-table button.btn-sm{margin:auto 0!important;max-width:none;font-size:.7rem;width:100%!important}  .x-grid-wrapper .link-wrapper a{text-decoration:none!important;color:#056dae;font:12px Interstate_Bold,sans-serif;margin:15px auto 0;display:inline-block}  .x-grid-wrapper .link-wrapper a:hover{text-decoration:underline!important}.x-grid-wrapper[_ngcontent-%COMP%]   .custom-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   td.x-dropdown[_ngcontent-%COMP%]{background-color:#fff;text-align:center!important;border-top:10px solid #ccc;border-bottom:1px solid #ccc}  .x-grid-wrapper .custom-table .dropdown2-wrapper{margin-left:0;margin-right:0;padding:0!important}.x-grid-wrapper[_ngcontent-%COMP%]   .custom-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .x-grid-wrapper[_ngcontent-%COMP%]   .custom-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:15px 10px!important}.x-grid-wrapper[_ngcontent-%COMP%]   .custom-table[_ngcontent-%COMP%]   td.toggle-row-header[_ngcontent-%COMP%]{font:700 12px/18px Interstate_Bold,sans-serif!important;padding:12px 10px!important}.x-grid-wrapper[_ngcontent-%COMP%]   .custom-table[_ngcontent-%COMP%]   .toggle-text[_ngcontent-%COMP%]{width:90%;display:inline-block;vertical-align:middle}  .x-grid-wrapper .arrow{position:absolute;right:20px}.x-grid-wrapper[_ngcontent-%COMP%]   table.custom-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.row-header[_ngcontent-%COMP%]{text-align:center}}.accordion[_ngcontent-%COMP%]{background-color:#eee;color:#444;cursor:pointer;padding:18px;width:100%;text-align:left;border:none;outline:none;transition:.4s}.accordion[_ngcontent-%COMP%]:hover, .x-active[_ngcontent-%COMP%]{background-color:#ccc}.x-expanded[_ngcontent-%COMP%]{transition:background-color .5s ease-in-out;background-color:#fff}.x-panel.x-expandedPanel[_ngcontent-%COMP%]{display:table-row;transition:display 6s ease-out 2ms}.x-panel[_ngcontent-%COMP%]{display:none}.x-grid-wrapper[_ngcontent-%COMP%]   .custom-table[_ngcontent-%COMP%]   .action-wrapper[_ngcontent-%COMP%]{border-top:10px solid #ccc;padding:16px}  .x-grid-wrapper .custom-table .btn-sm{outline:none;width:auto;font:12px Interstate_Bold,sans-serif;text-align:center;margin:.95rem .125rem;padding:4px 25px;font-size:.75rem;vertical-align:middle;min-width:auto}.x-grid-wrapper[_ngcontent-%COMP%]   .custom-table[_ngcontent-%COMP%]   .action-wrapper[_ngcontent-%COMP%]   p.action-header[_ngcontent-%COMP%]{width:100%;margin:0 auto!important;font-family:Interstate_Bold,sans-serif;font-size:16px;color:#333}  .x-grid-wrapper .custom-table .action-wrapper .link-wrapper{font-family:Interstate_Bold,sans-serif;font-size:12px}  .x-grid-wrapper .custom-table .link-wrapper .link:after{display:inline-block;margin-left:4px;content:"\\e258";font:700 .6rem/.6rem Glyphicons Halflings;vertical-align:middle;color:inherit}.x-grid-wrapper[_ngcontent-%COMP%]   .custom-table[_ngcontent-%COMP%]   td.main-header[_ngcontent-%COMP%], .x-grid-wrapper[_ngcontent-%COMP%]   .custom-table[_ngcontent-%COMP%]   td.toggle-row-header[_ngcontent-%COMP%]{font-family:Interstate_Bold,sans-serif;letter-spacing:1.5px;text-transform:uppercase;position:relative}.x-grid-wrapper[_ngcontent-%COMP%]   .custom-table[_ngcontent-%COMP%]   td.toggle-row-header[_ngcontent-%COMP%]:focus-visible{outline:5px auto -webkit-focus-ring-color}.x-grid-wrapper[_ngcontent-%COMP%]   .custom-table[_ngcontent-%COMP%]   td.toggle-row-header[_ngcontent-%COMP%]{background:#eee;border-bottom:1px solid #ccc;border-top:1px solid #ccc;padding:14px}.x-grid-wrapper[_ngcontent-%COMP%]   table.custom-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.row-header[_ngcontent-%COMP%]{text-align:left;background-color:#eee;font:500 16px Interstate_Regular,sans-serif;color:#333}  .arrow{width:12px;height:12px;background-repeat:no-repeat;display:inline-block;cursor:pointer;vertical-align:middle;margin-left:10px}.x-grid-wrapper[_ngcontent-%COMP%]   .arrow[_ngcontent-%COMP%]{display:inline-block;position:absolute;transition:transform .4s ease-in-out;-ms-transform:rotate(0);transform:rotate(0);-ms-transform-origin:50%;transform-origin:50%;top:23px;background-image:url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHZpZXdCb3g9JzAgMCAxNCA4LjAyJz48dGl0bGU+MDItZG93bi13aGl0ZTwvdGl0bGU+PHBhdGggZD0nTTIwLDI0YTEuOTQsMS45NCwwLDAsMS0xLjQxLS42MmwtNS4zMi01LjcyYTEsMSwwLDAsMSwxLjQ2LTEuMzZMMjAsMjJsNS4yNy01LjY2YTEsMSwwLDAsMSwxLjQ2LDEuMzZsLTUuMzIsNS43MkExLjk0LDEuOTQsMCwwLDEsMjAsMjQnIHRyYW5zZm9ybT0ndHJhbnNsYXRlKC0xMyAtMTUuOTkpJyBzdHlsZT0nZmlsbDojMDU2REFFO2ZpbGwtcnVsZTpldmVub2RkJy8+PC9zdmc+")}.x-grid-wrapper[_ngcontent-%COMP%]   .expand[_ngcontent-%COMP%]{-ms-transform:rotate(180deg);transform:rotate(180deg);top:17px}.x-grid-wrapper[_ngcontent-%COMP%]   .custom-table[_ngcontent-%COMP%]   .action-wrapper[_ngcontent-%COMP%]{position:sticky;top:0;z-index:2222;background-color:#fff;border-right:1px solid #ccc!important;border-bottom:1px solid #ccc}.x-grid-wrapper[_ngcontent-%COMP%]   .custom-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-right:1px solid #ccc!important}.x-grid-wrapper[_ngcontent-%COMP%]   .custom-table[_ngcontent-%COMP%]   .action-wrapper[_ngcontent-%COMP%]:last-child, .x-grid-wrapper[_ngcontent-%COMP%]   .custom-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{border-right:none!important}.x-grid-wrapper[_ngcontent-%COMP%]   .custom-table[_ngcontent-%COMP%]   .action-wrapper[_ngcontent-%COMP%]:first-child{border-left:none!important}.x-grid-wrapper[_ngcontent-%COMP%]   .custom-table[_ngcontent-%COMP%]   .main-header-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-top:1px solid #ccc!important}.x-grid-wrapper[_ngcontent-%COMP%]   .custom-table[_ngcontent-%COMP%]   .sticky-header[_ngcontent-%COMP%], .x-grid-wrapper[_ngcontent-%COMP%]   .custom-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child{border-bottom:1px solid #ccc!important}.x-grid-wrapper[_ngcontent-%COMP%]   .x-headingWrapper[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{width:68%;margin:18px auto}.expanded[_ngcontent-%COMP%]{-ms-transform:rotate(180deg);transform:rotate(180deg)}  .compare-wrapper a{text-decoration:none!important}.x-grid-wrapper[_ngcontent-%COMP%]   .x-dropdown[_ngcontent-%COMP%]{padding:0 20px;border-top:10px solid #ccc;border-bottom:1px solid #ccc}  .x-grid-wrapper .dropdown{border:1px solid #999!important}  .x-grid-wrapper .x-dropdown .dropdownLabel{text-align:left;font:12px/18px Interstate_Regular,sans-serif;color:#333}  .x-grid-wrapper .x-dropdown .dropdownText{text-align:left;font-size:14px!important;position:relative;width:100%;font:14px/22px Interstate_Bold,sans-serif;color:#056dae}  .x-grid-wrapper .x-dropdown .dropdown{padding:10px;height:40px}  .x-grid-wrapper .arrowIcon{top:-4px!important;right:15px!important}  .x-grid-wrapper .dd2-option-text{font-size:14px;margin-left:0!important}  .optionGroupOption{font-size:12px;text-align:left}  .x-grid-wrapper .dd2-option{text-align:left;padding:6px 10px;font-size:12px!important}  .x-grid-wrapper .x-dropdown:first-child .options{left:0}  .x-grid-wrapper .dropdown2-wrapper .selectedOption{text-decoration:none!important;font-weight:700}  .x-grid-wrapper .x-dropdown:last-child .options{right:0}  .x-dropdown .optionsGroupText{text-align:left;padding:10px!important}  .x-dropdown .scrollable-menu{max-height:80vh!important}  .Package_AccessBlue,   .Package_BasicBlue,   .Package_CBA,   .Package_CitiElevate,   .Package_CitiGoldPrivateClient,   .Package_CitiPriority,   .Package_GoldRegular{width:10px;height:10px;display:inline-block;border-radius:50%;vertical-align:middle;margin:auto auto auto 15px;position:absolute;left:0;top:19px}  .x-dropdown .optionsGroupText{font-weight:700;text-transform:uppercase;font-size:14px}  .x-dropdown td{padding-bottom:0}  .x-grid-wrapper .stickyElement{position:fixed!important;top:0;z-index:10001;background-color:#fff;width:100%;display:table!important;table-layout:fixed;box-shadow:0 2px 3px 1px #bfbfbf}@media (min-width:768px) and (max-width:992px){  .options{width:100%!important}}@media (min-width:1024px) and (max-width:1164px){  .x-grid-wrapper .custom-table .btn-sm{margin:0 auto 10px}}  .showSticky{position:sticky;top:0;z-index:2244!important;display:block;background-color:#fff}@media (max-width:320px){.x-grid-wrapper[_ngcontent-%COMP%]   .custom-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{text-align:left!important}}']}),e})()}}]);